(window.webpackJsonp=window.webpackJsonp||[]).push([[54,52,53],{"0Pcb":function(t,e,i){"use strict";const s=function(){const t=window.navigator.userAgent;return window.location.href,function(t){const e={},i=t.indexOf("iPhone")>=0||t.indexOf("iPad")>=0||t.indexOf("iPod")>=0,s=t.indexOf("Android")>0;return e.ios=i,e.android=s,e.mobile=i||s,e.pc=!i&&!s,e}(t)}();e.a=s},Qb4n:function(t,e,i){"use strict";var s=i("kZAv");e.a=class{constructor(){this.el=document.createElement("canvas")}initCanvasSize(t,e){this.el.width=t,this.el.height=e,this.width=t,this.height=e}getContext(t,e){return this.el.getContext(t,e)}render(t){this.container=t;let{width:e,height:i}=t.getBoundingClientRect();this.initCanvasSize(e||s.d,i||s.b),this.container.innerHTML="",this.container.appendChild(this.el)}}},RH81:function(t,e,i){"use strict";i.r(e);e.default=class{constructor(t,e,i){this.x=t,this.y=e,this.radius=i,this.rotate=0,this.offset=0,this.moveSpeed=0,this.rotateSpeed=0,this.behaviors=[]}setMoveSpeed(t){this.moveSpeed=t,this.setRotateSpeed(t/this.radius)}setRotateSpeed(t){this.rotateSpeed=t}addBehavior(t){Array.isArray(t)?this.behaviors=[...this.behaviors,...t]:this.behaviors=[...this.behaviors,t]}update(t){for(let e of this.behaviors)e.call(null,this,t)}render(t){let{x:e,y:i,radius:s,rotate:n,offset:a}=this;t.save(),t.translate(e+a,i),t.rotate(n),t.beginPath(),t.arc(0,0,s,0,2*Math.PI,!1),t.moveTo(-s,0),t.lineTo(s,0),t.moveTo(0,-s),t.lineTo(0,s),t.fill(),t.stroke(),t.restore()}reset(){this.rotate=0,this.offset=0}static rotate(t,e){let i=t.rotateSpeed*e;i%=2*Math.PI,t.rotate=i}static move(t,e){let{moveSpeed:i}=t,s=t.moveSpeed*e;t.offset=s}}},V1Io:function(t,e,i){"use strict";i.r(e);class s{constructor(t,e=s.linear()){this.timeFunc=e,this.duration=t,this.isRunning=!1}start(t){"function"==typeof t&&(this.timeFunc=t),this.startTime=Date.now(),this.isRunning=!0}getElapsedTime(){if(this.isOver())return this.duration;let t=Date.now()-this.startTime,e=t/this.duration;return t*(this.timeFunc(e)/e)}stop(){this.startTime=null,this.isRunning=!1}isOver(){return!this.isRunning||Date.now()-this.startTime>this.duration}static linear(){return function(t){return t}}static easeIn(t=1){return function(e){return Math.pow(e,2*t)}}static easeOut(t=1){return function(e){return 1-Math.pow(1-e,2*t)}}static easeInOut(){return function(t){return t-Math.sin(t*Math.PI*2)/(2*Math.PI)}}}e.default=s},kZAv:function(t,e,i){"use strict";i.d(e,"d",function(){return s}),i.d(e,"b",function(){return n}),i.d(e,"a",function(){return a}),i.d(e,"c",function(){return r});const s=500,n=500,a=`${i("0Pcb").a.pc?24:16}px sans-serif`,r="https://snayan.github.io/canvas-demo/"},p57E:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return r});var s=i("Qb4n"),n=i("V1Io"),a=i("RH81");class r extends s.a{constructor(t,e){super(),this.time=new n.default(t,this.mapTimingFunc(e)),this.ctx=this.getContext("2d"),this.padding=30,this.timeType=e,this.checked=!1}mapTimingFunc(t){switch(t){case"easeIn":return n.default.easeIn();case"easeOut":return n.default.easeOut();case"easeInOut":return n.default.easeInOut();default:return n.default.linear()}}drawBall(){let{ctx:t}=this;t.fillStyle="orange",t.strokeStyle="red",this.ball.render(this.ctx)}drawPlatform(){let{width:t,height:e,padding:i,ctx:s}=this;s.strokeStyle="green",s.beginPath(),s.moveTo(i,e-i),s.lineTo(t-i,e-i),s.stroke()}createBall(){let{width:t,height:e,padding:i,ctx:s}=this;this.ball=new a.default(this.padding,e-i-20-2*s.lineWidth,20),this.ball.addBehavior([a.default.rotate,a.default.move]),this.ball.setMoveSpeed((t-2*i)/this.time.duration)}createCheckBtn(){let t=document.createElement("div");t.style.position="absolute",t.style.right=2*this.padding+"px",t.style.bottom=this.height/4+"px",t.style.width="120px",t.style.height="60px",t.style.textAlign="right";let e=document.createElement("input");e.type="checkbox",e.value=this.timeType;let i=document.createElement("label");i.innerText=this.timeType,t.appendChild(e),t.appendChild(i),this.el.parentElement.style.position="relative",this.el.parentElement.appendChild(t),e.addEventListener("change",t=>{this.checked=t.target.checked},!1)}setTimingFunc(t){if(!(this.time instanceof n.default))throw new Error("please create Time instance before invoke setTimingFunc");this.time.timeFunc=t}start(){this.time.isRunning||this.time.start(),this.animate()}stop(){this.time.stop()}reset(){this.time.stop(),this.ball.reset()}draw(){let{width:t,height:e,ctx:i}=this;i.clearRect(0,0,t,e),this.drawPlatform(),this.drawBall()}animate(){this.time.isOver()||(this.ball.update(this.time.getElapsedTime()),this.draw(),window.requestAnimationFrame(this.animate.bind(this)))}render(t){super.render(t);let{width:e,height:i,padding:s,ctx:n}=this;e-2*s<100&&(this.padding=0),i<s&&(this.padding=0),this.createCheckBtn(),this.createBall(),this.draw()}}}}]);