(window.webpackJsonp=window.webpackJsonp||[]).push([[2,7,15,35,39,40,41,42,48,49,52,53,55],{"+jL+":function(t,e,i){"use strict";i.r(e);var s=i("Qb4n"),r=i("6397"),a=i("0Pcb"),n=i("ysz4");e.default=class extends s.a{constructor(){super(),this.ctx=this.getContext("2d"),this.initData(),this.bindMouseEvent()}initData(){let t=[0,100],e=[0,100],i=[];for(let s=0;s<10;s++)i.push({x:Object(n.d)(t[0],t[1]),y:Object(n.d)(e[0],e[1])});this.data=i}bindMouseEvent(){let{el:t}=this;t.addEventListener(a.a.mobile?"touchmove":"mousemove",Object(n.e)(this.drawGuide.bind(this),100),!1)}drawGuide(t){let e,i,{el:s}=this;t.preventDefault(),a.a.pc?(e=(t=t).x,i=t.y):(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY);let r=Object(n.h)(s,e,i);this.axes.drawGuide(r.x,r.y)}render(t){super.render(t),this.axes=new r.default(this.ctx,this.data),this.axes.render()}}},"/Jkk":function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return h});var s=i("Qb4n"),r=i("ysz4"),a=i("kZAv"),n=i("0Pcb"),o=i("JaKB"),l=i("lLY/");class h extends s.a{constructor(){super(),this.rects=[],this.circles=[],this.ctx=this.getContext("2d"),this.isCollide=!1,this.collideColor="rgba(244, 85, 65, 0.8)",this.collide=new l.default}createRect(){let{width:t,height:e,rects:i}=this,s=["rgba(66, 134, 244, 0.5)","rgba(65, 244, 223, 0.5)"],a=i=>{let a=Math.min(Math.min(t,e)/5,100);a+=a/4*i;let n=Math.floor(Object(r.d)(0,t)),l=Math.floor(Object(r.d)(0,e));return n+a>t&&(n-=a),l+a>e&&(l-=a),new o.RectSprite({name:`rect_${i}`,left:n,top:l,width:a,height:a,fillStyle:s[i%2],visible:!0})};for(let t=0,e=2;t<e;t++){do{this.draggingSprite=a(t),this.didCollide()}while(this.isCollide);i[t]=this.draggingSprite,this.draggingSprite=null}}createCircle(){let{width:t,height:e,circles:i}=this,s=["rgba(244, 235, 65, 0.5)","rgba(66, 244, 86,0.5)"],a=Math.min(Math.min(t,e)/10,50),n=i=>{let n=Math.floor(Object(r.d)(a,t)),l=Math.floor(Object(r.d)(a,e));return n+a>t&&(n-=a),l+a>e&&(l-=a),new o.CircleSprite({name:`circle_${i}`,x:n,y:l,radius:a,fillStyle:s[i%2],visible:!0})};for(let t=0,e=2;t<e;t++){do{this.draggingSprite=n(t),this.didCollide()}while(this.isCollide);i[t]=this.draggingSprite,this.draggingSprite=null}}drawTitle(){let{ctx:t,width:e,height:i,isCollide:s,collideColor:r}=this;t.save(),t.font=a.a,t.textAlign="center",t.fillStyle=s?r:"rgba(66, 134, 244, 0.8)";let n=t.measureText("M").width;t.fillText(s?"碰撞了":"碰撞检测：外接图形法",e/2,n+n/6+10),t.restore()}drawRect(){let{ctx:t,rects:e,draggingSprite:i}=this;t.save();for(let[s,{left:r,top:a,width:n,height:o,fillStyle:l,visible:h}]of e.entries())h&&e[s]!==i&&(t.fillStyle=l,t.beginPath(),t.rect(r,a,n,o),t.fill());t.restore()}drawCircle(){let{circles:t,ctx:e,draggingSprite:i}=this;e.save();for(let[s,{fillStyle:r,visible:a,x:n,y:o,radius:l}]of t.entries())a&&t[s]!==i&&(e.fillStyle=r,e.beginPath(),e.arc(n,o,l,0,2*Math.PI,!1),e.fill())}drawDraggingSprite(){let{ctx:t,draggingSprite:e}=this;if(this.draggingSprite){if(t.save(),t.fillStyle=e.fillStyle,t.beginPath(),"rect"===e.type){let{left:i,top:s,width:r,height:a}=e;t.rect(i,s,r,a)}else{let{x:i,y:s,radius:r}=e;t.arc(i,s,r,0,2*Math.PI,!1)}t.fill(),t.restore()}}drawCollideTip(){let{ctx:t,isCollide:e,collideColor:i,width:s,height:r}=this;e&&(t.save(),t.strokeStyle=i,t.lineWidth=10,t.strokeRect(0,0,s,r),t.restore())}bindEvent(){let{width:t,height:e,el:i}=this,s=t=>e=>t.call(this,(t=>{let e,i;return t.preventDefault(),n.a.pc?(e=t.x,i=t.y):(e=t.touches[0].pageX,i=t.touches[0].pageY),{ex:e,ey:i}})(e));n.a.pc?(i.addEventListener("mousedown",s(this.mouseDown),!1),i.addEventListener("mousemove",s(this.mouseMove),!1),i.addEventListener("mouseup",this.mouseUp.bind(this),!1),i.addEventListener("mouseleave",this.mouseUp.bind(this),!1)):(i.addEventListener("touchstart",s(this.mouseDown),!1),i.addEventListener("touchmove",s(this.mouseMove),!1),i.addEventListener("touchend",this.mouseUp.bind(this),!1),i.addEventListener("touchcancel",this.mouseUp.bind(this),!1))}mouseDown({ex:t,ey:e}){let{el:i,ctx:s,rects:a,circles:n}=this,{x:o,y:l}=Object(r.h)(i,t,e);for(let[t,{left:e,top:i,width:r,height:n,visible:h}]of a.entries())if(h&&(s.beginPath(),s.rect(e,i,r,n),s.isPointInPath(o,l))){this.draggingSprite=a[t],this.lastMovePoint={left:o,top:l};break}if(!this.draggingSprite)for(let t of n)if(t.visible&&(s.beginPath(),s.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),s.isPointInPath(o,l))){this.draggingSprite=t,this.lastMovePoint={left:o,top:l};break}}mouseMove({ex:t,ey:e}){let{el:i,ctx:s,collide:a,rects:n,draggingSprite:o,width:l,height:h,lastMovePoint:d}=this,{x:c,y:u}=Object(r.h)(i,t,e);o&&("rect"===o.type?this.moveRect(o,c,u):"circle"===o.type&&this.moveCircle(o,c,u),this.lastMovePoint={left:c,top:u},this.didCollide(),this.draw())}mouseUp(){this.draggingSprite=null,this.lastMovePoint=null}moveRect(t,e,i){let{width:s,height:r,lastMovePoint:a}=this;t.left+=e-a.left,t.top+=i-a.top,t.left=Math.max(0,t.left),t.left=Math.min(s-t.width,t.left),t.top=Math.max(0,t.top),t.top=Math.min(r-t.height,t.top)}moveCircle(t,e,i){let{width:s,height:r,lastMovePoint:a}=this;t.x+=e-a.left,t.y+=i-a.top,t.x=Math.max(t.radius,t.x),t.x=Math.min(s-t.radius,t.x),t.y=Math.max(t.radius,t.y),t.y=Math.min(r-t.radius,t.y)}didCollide(){let{rects:t,circles:e,draggingSprite:i,collide:s}=this;if(this.isCollide=!1,i){for(let e of t)s.isCandidateForCollide(i,e)&&s.didCollide(i,e)&&(this.isCollide=!0,console.log(`occur collide: ${i.name} and ${e.name}`));for(let t of e)s.isCandidateForCollide(i,t)&&s.didCollide(i,t)&&(this.isCollide=!0,console.log(`occur collide: ${i.name} and ${t.name}`))}}draw(){let{ctx:t,width:e,height:i}=this;t.clearRect(0,0,e,i),this.drawTitle(),this.drawRect(),this.drawCircle(),this.drawDraggingSprite(),this.drawCollideTip()}render(t){super.render(t),this.createRect(),this.createCircle(),this.draw(),this.bindEvent()}}},"/aIi":function(t,e){t.exports="dist/images/1.18d12255a792809c320cfff34c146e7f.jpeg"},"14PU":function(t,e,i){var s=i("8VZJ");"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,r);s.locals&&(t.exports=s.locals)},"1atV":function(t,e,i){"use strict";i.r(e);var s=i("Qb4n");e.default=class extends s.a{constructor(){super(),this.shapeWidth=100,this.shapeHeight=100,this.shapeCount=6,this.shapes=[],this.ctx=this.getContext("2d")}calculate(){let{width:t,height:e,shapeWidth:i,shapeHeight:s,shapeCount:r,shapes:a}=this,n=Math.min(Math.floor(t/i),4),o=(t-n*i)/(n+1),l=Math.ceil(r/n);for(;o<20&&n>1;)n-=1,l=Math.ceil(r/n),o=(t-n*i)/(n+1);let h=(e-s*l-o*(l-1))/2;for(let t=0;t<l;t++)for(let e=0;e<n&&!(a.length>=r);e++)a.push({x:(e+1)*o+e*i,y:h+t*(s+o)});this.shapes=a}drawShapes(){let{shapes:t,shapeWidth:e,shapeHeight:i,ctx:s}=this;s.save(),s.lineWidth=.5;let r,a,n=0,o=t[n++];r=o.x,a=o.y,s.beginPath(),s.moveTo(r+e/2,a),s.lineTo(r,a+i),s.lineTo(r+e,a+i),s.closePath(),s.stroke();let l=t[n++];r=l.x,a=l.y,s.beginPath(),s.rect(r,a,e,i),s.closePath(),s.stroke();let h=t[n++];r=h.x,a=h.y,s.beginPath(),s.moveTo(r+20,a),s.lineTo(r+e-20,a),s.arcTo(r+e,a,r+e,a+20,20),s.lineTo(r+e,a+i-20),s.arcTo(r+e,a+i,r+e-20,a+i,20),s.lineTo(r+20,a+i),s.arcTo(r,a+i,r,a+i-20,20),s.lineTo(r,a+20),s.arcTo(r,a,r+20,a,20),s.stroke(),s.save(),s.setLineDash([2,2]);let d=t[n++];r=d.x,a=d.y,s.beginPath(),s.moveTo(r+30,a),s.lineTo(r+e-30,a),s.arcTo(r+e,a,r+e,a+30,30),s.lineTo(r+e,a+i-30),s.arcTo(r+e,a+i,r+e-30,a+i,30),s.lineTo(r+30,a+i),s.arcTo(r,a+i,r,a+i-30,30),s.lineTo(r,a+30),s.arcTo(r,a,r+30,a,30),s.stroke(),s.restore();let c=t[n++];r=c.x,a=c.y,s.beginPath(),s.moveTo(r+20,a),s.lineTo(r+e-20,a),s.lineTo(r+e,a+20),s.lineTo(r+e,a+i-20),s.lineTo(r+e-20,a+i),s.lineTo(r+20,a+i),s.lineTo(r,a+i-20),s.lineTo(r,a+20),s.closePath(),s.stroke();let u=t[n++];r=u.x,a=u.y;let g=Math.min(e/2,i/2);s.beginPath(),s.arc(r+g,a+g,g,0,2*Math.PI,!1),s.stroke()}render(t){super.render(t),this.calculate(),this.drawShapes()}}},6397:function(t,e,i){"use strict";i.r(e);var s=i("0Pcb");e.default=class{constructor(t,e,i){let r={...{axisColor:"#000",tickColor:"#666",dataLineColor:"#DE0B27",guideColor:"rgba(0,0,230,0.4)",tickLineWidth:1,dataLineWidth:1},...i};this.ctx=t,this.data=e.sort((t,e)=>t.x-e.x),this.axisColor=r.axisColor,this.tickColor=r.tickColor,this.dataLineColor=r.dataLineColor,this.guideColor=r.guideColor,this.tickLineWidth=r.tickLineWidth,this.dataLineWidth=r.dataLineWidth,this.tickSize=s.a.pc?6:4,this.minTickSpacing=10,this.horizontalTickSpacing=10,this.verticalTickSpacing=10,this.computeSize(),this.computeDelta()}saveDrawingSurface(){let{ctx:t}=this,e=t.canvas;this.cacheImgData=t.getImageData(0,0,e.width,e.height)}restoreDrawingSurface(){let{ctx:t,cacheImgData:e}=this,i=t.canvas;t.clearRect(0,0,i.width,i.height),t.putImageData(e,0,0)}computeSize(){let{ctx:t,horizontalTickSpacing:e,verticalTickSpacing:i}=this,s=t.canvas.width,r=t.canvas.height,a=Math.min(s,r),n=.8*a,o=.8*a;this.left=(s-n)/2,this.top=(r-o)/2,this.numHorizontalTicks=Math.floor(n/e),this.numVerticalTicks=Math.floor(o/i),this.width=n,this.height=o}computeDelta(){let{data:t,numHorizontalTicks:e,numVerticalTicks:i}=this,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER;for(let{x:e,y:i}of t)s=Math.max(s,e),r=Math.min(r,e),a=Math.max(a,i),n=Math.min(n,i);this.xPerTick=Math.ceil((s-r)/e),this.yPerTick=Math.ceil((a-n)/i),this.startX=s-this.xPerTick*e,this.startY=a-this.yPerTick*i,this.startX=Math.max(Math.min(this.startX,r),0),this.startY=Math.max(Math.min(this.startY,n),0),this.startX=Math.floor(this.startX),this.startY=Math.floor(this.startY)}drawHorizontalLine(t){let{ctx:e,left:i,width:s}=this;e.beginPath(),e.moveTo(i,t-.5),e.lineTo(i+s,t-.5),e.stroke()}drawVerticalLine(t){let{ctx:e,left:i,top:s,height:r}=this;e.beginPath(),e.moveTo(t-.5,s+r),e.lineTo(t-.5,s),e.stroke()}drawHorizontalTicks(){let t,e,{ctx:i,data:s,left:r,top:a,width:n,height:o,xPerTick:l,startX:h,tickSize:d,numHorizontalTicks:c,horizontalTickSpacing:u}=this;i.beginPath();let g,f=i.measureText("W").width,p=a+o;for(let s=0;s<c;s++)g=r+u*s-.5,s>0&&(i.moveTo(g,p),i.lineTo(g,p-d*(.75*+!(s%5)+1))),t=s*l+h,e=i.measureText(t).width,0!==s&&s%5!=0||i.strokeText(t,g-e/2,p+f+6);i.stroke()}drawVerticalTicks(){let t,e,{ctx:i,left:s,top:r,height:a,yPerTick:n,startY:o,tickSize:l,numVerticalTicks:h,verticalTickSpacing:d}=this;i.beginPath();let c,u=i.measureText("W").width,g=s;for(let s=0;s<h;s++)c=r+a-d*s-.5,s>0&&(i.moveTo(g,c),i.lineTo(g+l*(.75*+!(s%5)+1),c)),t=s*n+o,e=i.measureText(t).width,0!==s&&s%5!=0||i.strokeText(t,g-e-10,c+u/2);i.stroke()}drawData(){let{ctx:t,data:e}=this;t.save(),t.beginPath();let i,s,r,a=e.length;a&&(i=e[0],s=this.toCanvasX(i.x),r=this.toCanvasY(i.y),t.moveTo(s,r));for(let n=1;n<a;n++)i=e[n],s=this.toCanvasX(i.x),r=this.toCanvasY(i.y),t.lineTo(s,r);t.stroke();for(let n=0;n<a;n++)t.beginPath(),i=e[n],s=this.toCanvasX(i.x),r=this.toCanvasY(i.y),t.arc(s,r,3,0,2*Math.PI,!1),t.fill();t.fill(),t.restore()}toCanvasX(t){let{left:e,startX:i,xPerTick:s,horizontalTickSpacing:r}=this;return e+(t-i)*r/s}toCanvasY(t){let{top:e,height:i,startY:s,yPerTick:r,verticalTickSpacing:a}=this;return e+i-(t-s)*a/r}toDataX(t){let{left:e,startX:i,xPerTick:s,horizontalTickSpacing:r}=this;return((t-e)*s/r+i).toFixed(2)}toDataY(t){let{top:e,height:i,startY:s,yPerTick:r,verticalTickSpacing:a}=this;return((e+i-t)*r/a+s).toFixed(2)}drawGuide(t,e){let{ctx:i,left:s,top:r,width:a,height:n,guideColor:o}=this;t>s&&t<s+a&&e>r&&e<r+n&&(this.restoreDrawingSurface(),i.save(),i.strokeStyle=o,i.lineWidth=.5,this.drawHorizontalLine(e),this.drawVerticalLine(t),i.strokeText(`${this.toDataX(t)} , ${this.toDataY(e)}`,t+10,e+10),i.restore())}render(){let{ctx:t,left:e,top:i,height:s,axisColor:r,tickColor:a,dataLineColor:n,dataLineWidth:o,tickLineWidth:l}=this;t.save(),t.lineWidth=.5,t.strokeStyle=r,this.drawHorizontalLine(i+s),this.drawVerticalLine(e),t.lineWidth=l,t.strokeStyle=a,this.drawHorizontalTicks(),this.drawVerticalTicks(),t.lineWidth=o,t.strokeStyle=n,t.fillStyle=n,this.drawData(),t.restore(),this.saveDrawingSurface()}}},"7X/A":function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("bxh+");const n="cutout";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},"8VZJ":function(t,e,i){(e=t.exports=i("I1BE")(!1)).push([t.i,'.ZKHB3b7wcSwR8Wl6fTxfr{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:stretch;align-items:stretch;height:100%;overflow:hidden;opacity:0;transition:all .5s ease-out;will-change:opacity}._2p3_lfNbTv7jvNTjDcwiNG{margin:20px 10px;padding:0;display:block;float:left;width:calc(25vw - 20px);height:calc(25vw - 20px);display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._3PLz2jKWg5aqWZ0L2XSk1A{width:calc(100vw - 20px);height:calc(100vw - 20px)}._2Aqnhl0UilhQmcJ__tvzcs{-ms-flex:1 1 auto;flex:1 1 auto;width:50%;margin:20px;padding:20px;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border:1px solid #4169e1;border-radius:10px}._3PcgzXzpkVz38FWGWVlBgF{-ms-flex:0 0 auto;flex:0 0 auto;height:42px;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;overflow:auto}._1J5n2jI7d_iyhVCFsz6kGo{padding:0 10px;background:hsla(0,0%,40%,.6);color:hsla(0,0%,100%,.6);line-height:42px;border-right:1px solid #fff;cursor:pointer}._1J5n2jI7d_iyhVCFsz6kGo:hover{background:hsla(0,0%,40%,.4);color:#fff}.lG27D-ztuflQnRQrYzrEk{background:#f5f2f0;color:#3a73d1;padding:0 10px;line-height:42px;border-right:1px solid #fff;cursor:pointer}.lG27D-ztuflQnRQrYzrEk:hover{color:#0858db}._1Uc2dRqvsUOU-zqNfc0zoP{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:scroll;background:#f5f2f0}.uhY8gttG11j6aitIqgmsp{display:none}._1tG49ZjfMiBGC9SRfhiVb{display:block}._11qLAYl8YioCWH0Wa6nugG{-ms-flex:1 1 auto;flex:1 1 auto;margin:20px;padding:20px;width:50%;border:1px solid #4169e1;border-radius:10px;box-sizing:content-box}._3ddyhRKJ33suqfgO4btVi_{border:none;margin:0;padding:0;border-radius:0;display:block}._2p3_lfNbTv7jvNTjDcwiNG ._11qLAYl8YioCWH0Wa6nugG{margin:0;padding:10px;width:100%;height:100%;box-sizing:border-box;border:1px solid #4169e1;border-radius:10px}._3I7L3oK-Gj0uKsP2dcD9jc{position:fixed;top:calc(50% - 16px);left:calc(50% - 16px);width:32px;height:32px;border-radius:50%;background:#b3d4fc;animation:_2UXogTuqtyG9ZgCq7AZ_5F 1.8s ease infinite}._3I7L3oK-Gj0uKsP2dcD9jc:after,._3I7L3oK-Gj0uKsP2dcD9jc:before{content:"";display:block;position:absolute;height:inherit;width:inherit;background:inherit;border-radius:inherit;animation:_2UXogTuqtyG9ZgCq7AZ_5F 1.8s ease infinite}._3I7L3oK-Gj0uKsP2dcD9jc:before{left:calc(50% - 80px);background:#07a}._3I7L3oK-Gj0uKsP2dcD9jc:after{left:calc(50% + 48px);background:#690}.y1HRpH4VDRhNdBAt12eEI>._2Aqnhl0UilhQmcJ__tvzcs{display:none}._1gBDP-PRzphfndCrFoPJoO{opacity:1}.NMrsesPPXb57BISDZo4Q5{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._3925vOYf0GdFYymPirm6yB{color:red;font-weight:700;font-size:24px}._1PFQRcWzh5gn96QgIv6w9-{color:#999;font-size:12px}@keyframes _2UXogTuqtyG9ZgCq7AZ_5F{0%{top:calc(50% - 16px);transform:rotate(0deg)}50%{top:calc(50% - 80px);transform:rotate(-180deg)}to{top:calc(50% - 16px);transform:rotate(-1turn)}}',""]),e.locals={single:"ZKHB3b7wcSwR8Wl6fTxfr",collect:"_2p3_lfNbTv7jvNTjDcwiNG",collectMobile:"_3PLz2jKWg5aqWZ0L2XSk1A",codes:"_2Aqnhl0UilhQmcJ__tvzcs",codesTab:"_3PcgzXzpkVz38FWGWVlBgF",otherTab:"_1J5n2jI7d_iyhVCFsz6kGo",activeTab:"lG27D-ztuflQnRQrYzrEk",codesSection:"_1Uc2dRqvsUOU-zqNfc0zoP",otherSection:"uhY8gttG11j6aitIqgmsp",activeSection:"_1tG49ZjfMiBGC9SRfhiVb",result:"_11qLAYl8YioCWH0Wa6nugG",mobileResult:"_3ddyhRKJ33suqfgO4btVi_",loading:"_3I7L3oK-Gj0uKsP2dcD9jc",spin:"_2UXogTuqtyG9ZgCq7AZ_5F",mobile:"y1HRpH4VDRhNdBAt12eEI",loaded:"_1gBDP-PRzphfndCrFoPJoO",error:"NMrsesPPXb57BISDZo4Q5",errorTitle:"_3925vOYf0GdFYymPirm6yB",errorTip:"_1PFQRcWzh5gn96QgIv6w9-"}},"8xBV":function(t,e,i){"use strict";var s=i("J66h"),r=i("ysz4"),a=i("kZAv"),n=i("ai4s");var o=class{constructor(t){this.moduleName=t,this.sourcePath=`example/${t}/canvas`,this.requestPath="https://api.github.com/repos/snayan/canvas-demo/contents"}fetch(t){return fetch(`${this.requestPath}/${t}`,{credentials:"omit",method:"get",mode:"cors"})}async getCanvasFiles(){let t,e=[],i=n.a.get(this.moduleName);if(i&&i.length)return i;let s=await this.fetch(this.sourcePath);if(!s.ok)throw new Error(JSON.stringify({status:s.status,statusText:s.statusText,body:await s.text(),url:s.url}));t=await s.json();for(let i of t)"file"===i.type&&(s=await this.fetch(i.path)).ok&&e.push(await s.json());return n.a.set(this.moduleName,e),e}},l=i("0Pcb"),h=i("wZee"),d=i.n(h),c=i("14PU"),u=i.n(c);e.a=class{constructor(t){this.canvasInstances=[],this.moduleName=t,this.el=document.createElement("div"),this.isSingleModule=Object(r.c)(t),this.github=new o(t),this.link=`${a.c}?module=${t}`,l.a.mobile&&this.el.classList.add(u.a.mobile)}loading(){let t=document.createElement("i");return t.classList.add(u.a.loading),document.body.appendChild(t),()=>{document.body.removeChild(t)}}renderCanvas(){let t=this.canvasInstances.length,e=document.createElement("div");e.classList.add(u.a.result),l.a.mobile&&e.classList.add(u.a.mobileResult),this.el.appendChild(e),t>0&&setTimeout(()=>{let{width:i,height:s}=e.getBoundingClientRect(),r=i>2*s,a=document.createElement("div");a.style.display="inline-block",r?(a.style.width=`${100/t}%`,a.style.height="100%"):(a.style.width="100%",a.style.height=`${100/t}%`);for(let t of this.canvasInstances){let i=a.cloneNode();e.appendChild(i),t.render(i)}},0)}async renderCode(){let t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("nav"),r=[],a=[],n="0";try{let t=await this.github.getCanvasFiles();for(let[e,{name:i,content:n}]of t.entries())r.push(`<span class='${0===e?u.a.activeTab:u.a.otherTab}' data-index='${e}'>${i}</span>`),a.push(`<div class='${0===e?u.a.activeSection:u.a.otherSection}' data-index='${e}' ><pre class="language-typescript">${d.a.highlight(s.Base64.decode(n),d.a.languages.javascript,"typescript")}</pre></div>`)}catch(t){let e=JSON.parse(t.message);a.push(`<div class='${u.a.error}'><h4 class='${u.a.errorTitle}'>[${e.status}]${e.statusText}</h4><p class='${u.a.errorTip}'>${e.url}</p></div>`)}i.addEventListener("click",t=>{let s=t.target.dataset.index;if(s===n)return!1;let r=i.querySelectorAll("span"),a=e.querySelector(`div[data-index='${n}']`),o=e.querySelector(`div[data-index='${s}']`);for(let t of r)t.className=t.dataset.index===s?u.a.activeTab:u.a.otherTab;return a.className=u.a.otherSection,o.className=u.a.activeSection,n=s,!1}),i.className=u.a.codesTab,i.innerHTML=r.join(""),t.appendChild(i),e.className=u.a.codesSection,e.innerHTML=a.join(""),t.appendChild(e),t.className=u.a.codes,this.el.appendChild(t)}async render(){let t=this.loading();if(this.el.innerHTML="",document.body.appendChild(this.el),this.isSingleModule)this.el.classList.add(u.a.single),l.a.pc&&await this.renderCode();else{this.el.classList.add(u.a.collect);let t=document.createElement("a");t.innerText=this.moduleName,t.href=this.link,t.style.marginTop="10px",this.el.appendChild(t)}return l.a.mobile&&!this.isSingleModule&&this.el.classList.add(u.a.collectMobile),this.renderCanvas(),t(),setTimeout(()=>{this.el.classList.add(u.a.loaded)},0),this}}},Anus:function(t,e,i){"use strict";i.r(e);var s=i("Qb4n"),r=i("UwLk"),a=i("ysz4"),n=i("0Pcb");e.default=class extends s.a{constructor(){super(),this.ctx=this.getContext("2d"),this.scale=1.5}loadImages(){let t=i("/aIi"),e=new Image;e.src=t,e.onload=(()=>{this.image=e,this.loading.stop(),setTimeout(this.drawImage.bind(this),200)})}drawImage(){let{ctx:t,image:e,width:i,height:s}=this;if(e){let r,a,n,o,l=e.width,h=e.height;i>s?(n=(i-(r=(a=s)*l/h))/2,o=0):(n=0,o=(s-(a=(r=i)*h/l))/2),this.areaRect={left:n,top:o,width:r,height:a},t.drawImage(e,n,o,r,a),t.rect(n,o,r,a),t.clip()}}drawZoom(t){let{ctx:e,zoomRadius:i,loading:s,width:r,height:o,image:l,scale:h,areaRect:d}=this;if(t.preventDefault(),!s.isLoading){let s,l;n.a.pc?(s=(t=t).x,l=t.y):(s=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY);let d=Object(a.h)(this.ctx.canvas,s,l);e.clearRect(0,0,r,o),this.drawImage(),e.save(),e.lineWidth=.1*i,e.strokeStyle="#ffffff",e.beginPath(),e.arc(d.x,d.y,i,0,2*Math.PI,!1),e.clip(),e.drawImage(e.canvas,d.x-i,d.y-i,2*i,2*i,d.x-i-(2*i*h-2*i)/2,d.y-i-(2*i*h-2*i)/2,2*i*h,2*i*h),e.stroke(),e.restore()}}bindMouseMove(){this.container.addEventListener(n.a.pc?"mousemove":"touchmove",this.drawZoom.bind(this),!1)}render(t){super.render(t);let{ctx:e,width:i,height:s}=this;this.loading=new r.default(e),this.loading.start(),this.zoomRadius=Math.min(i,s)/8,this.loadImages(),this.bindMouseMove()}}},BZV0:function(t,e,i){"use strict";i.r(e);var s=i("sl1b"),r=i("ZF4W"),a=i("7X/A"),n=i("dpfr"),o=i("l6y/"),l=i("Y14n"),h=i("mEuQ"),d=i("hVpf"),c=i("F2gT"),u=i("amHI");(new n.default).render(),(new s.default).render(),(new r.default).render(),(new a.default).render(),(new o.default).render(),(new l.default).render(),(new h.default).render(),(new d.default).render(),(new c.default).render();let g=new u.default;g.render().then(()=>g.createButton())},Dd8r:function(t,e,i){"use strict";i.r(e);var s=i("Qb4n"),r=i("0Pcb"),a=i("ysz4"),n=i("w69y");e.default=class extends s.a{constructor(){super(),this.ctx=this.getContext("2d"),this.letterSpace=0,this.fontSize=r.a.pc?24:16,this.lineHeight=2*this.fontSize,this.margin=20,this.lines=[],this.nextWord={lineNum:0,wordIndex:0},this.focus=!1}calculateLines(){let{lineHeight:t,editorAreaLeft:e,editorAreaTop:i,editorAreaWidth:s}=this;for(let r=0,a=this.lines.length;r<a;r++)this.lines[r]={left:e,bottom:i+t*(r+1)+.5,width:s,height:t,words:[]}}calculateWordWidth(){let{ctx:t}=this;return t.measureText("M").width}calculateLetterSpace(){let{ctx:t,lines:e}=this,i=this.calculateWordWidth(),s=e[0].width,r=Math.floor(s/i);this.letterSpace=(s-r*i)/(r-1)}calculateEditorArea(){let{margin:t,lineHeight:e,width:i,height:s}=this,r=Math.floor((s-2*t-e)/e);this.lines.length=r,this.editorAreaLeft=t,this.editorAreaTop=t+e,this.editorAreaWidth=i-2*t,this.editorAreaHeight=r*e}isPointInEditor(t,e){let{ctx:i,margin:s,editorAreaLeft:r,editorAreaTop:a,editorAreaWidth:n,editorAreaHeight:o}=this;return i.rect(r,a-.5,n,o-1),i.isPointInPath(t,e)}measureLineText(t,e){let{ctx:i,lines:s,letterSpace:r}=this,a=s[t].words;return!a.length||e<0?0:i.measureText(a.slice(0,e+1).join("")).width+r*e}calculateNextWord(t,e){let{ctx:i,lines:s,editorAreaLeft:r}=this,a=this.findLineByPoint(t,e),n=s[a];if(n){let e=n.words.length,i=0,s=this.measureLineText(a,i);for(;s<t-r&&i<e;)i+=1,s=this.measureLineText(a,i);this.nextWord={lineNum:a,wordIndex:i}}}advanceNextWord(){let{nextWord:t,lines:e,editorAreaWidth:i,letterSpace:s}=this,{lineNum:r,wordIndex:a}=t,n=(e[r],this.calculateWordWidth());this.measureLineText(r,a)+n+s>i?(r+=1,a=0):a+=1,this.nextWord={lineNum:r,wordIndex:a}}reorganizeWords(t){let e,{lines:i,editorAreaWidth:s}=this;for(let r=t,a=i.length;r<a;r++)for(let t=0,n=i[r].words.length;t<n;t++)this.measureLineText(r,t)>s&&(e=i[r].words.slice(t),i[r].words=i[r].words.slice(0,t),r<a-1&&(i[r+1].words=[...e,...i[r+1].words]))}findLineByPoint(t,e){let{editorAreaTop:i}=this;if(!this.isPointInEditor(t,e))return-1;let s=e-i;return Math.floor(s/this.lineHeight)}addWord(t){let{ctx:e,lines:i,letterSpace:s,nextWord:r}=this,{lineNum:a,wordIndex:n}=r,o=i[a].words;n=Math.min(n,o.length),o.splice(n,0,t),this.advanceNextWord(),this.reorganizeWords(a)}removeWord(){let{nextWord:t,lines:e}=this,{lineNum:i,wordIndex:s}=t;0===s?0!==i&&e[i-1].words.length&&(s=e[i-=1].words.length-1):s-=1,e[i].words.splice(s,1),this.nextWord={lineNum:i,wordIndex:s}}changeLine(){let{nextWord:t,lines:e}=this,{lineNum:i,wordIndex:s}=t;i<e.length-1&&(i+=1),this.nextWord={lineNum:i,wordIndex:s},this.drawCursor()}bindFocusEvent(){this.container.addEventListener("click",t=>{let{x:e,y:i}=Object(a.h)(this.el,t.x,t.y);this.isPointInEditor(e,i)&&(this.focus=!0,this.calculateNextWord(e,i),this.drawCursor())},!1)}bindInputEvent(){window.addEventListener("keyup",t=>{let{key:e,keyCode:i}=t,{ctx:s,focus:r,editorAreaWidth:a,letterSpace:n}=this;return!!r&&(8===i?this.removeWord():13===i?this.changeLine():this.addWord(e),this.draw(),!0)})}drawPaper(){let{ctx:t,lines:e,lineHeight:i}=this;t.save(),t.strokeStyle="rgba(0,0,0,0.5)",t.beginPath();let s=e[0];s&&(t.moveTo(s.left,s.bottom-i),t.lineTo(s.left+s.width,s.bottom-i));for(let{left:i,bottom:s,width:r,height:a}of e)t.moveTo(i,s),t.lineTo(i+r,s);t.stroke(),t.restore()}drawDateHeader(){let{ctx:t,lines:e,lineHeight:i}=this,s=e[0];if(t.save(),t.fillStyle="#666",s){let e=new Date,r="DATE："+e.getFullYear()+" - "+("0"+(e.getMonth()+1)).slice(-2)+" - "+("0"+e.getDate()).slice(-2),a=t.measureText(r).width;t.fillText(r,s.left+s.width-a-10,s.bottom-i-10)}t.restore()}drawWords(){let t,{ctx:e,lines:i,letterSpace:s}=this;for(let r=0,a=i.length;r<a;r++){let{words:a,left:n,bottom:o}=i[r];for(let i=0,l=a.length;i<l;i++)t=this.measureLineText(r,i-1),i>0&&(t+=s),e.fillText(a[i],n+t,o)}}drawCursor(){let{cursor:t,focus:e,nextWord:i,lines:s,letterSpace:r}=this;if(e){let{lineNum:e,wordIndex:r}=i,a=s[e];t.move(a.left+this.measureLineText(e,r-1),a.bottom)}}erase(){let{ctx:t,width:e,height:i}=this;t.clearRect(0,0,e,i)}draw(){let{ctx:t}=this;this.erase(),this.drawPaper(),this.drawDateHeader(),this.drawCursor(),this.drawWords()}render(t){super.render(t),this.ctx.font=`${this.fontSize}px sans-serif`,this.ctx.lineWidth=.5,this.ctx.textBaseline="bottom",this.cursor=new n.default(this.ctx),this.calculateEditorArea(),this.calculateLines(),this.calculateLetterSpace(),this.bindFocusEvent(),this.bindInputEvent(),this.draw()}}},F2gT:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("xMqE");const n="collide_03";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},"JS/M":function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return r});var s=i("ysz4");class r{constructor(){return this instanceof r?this:new r}isCandidateForCollide(t,e){return t.visible&&e.visible&&t!==e}didCollide(t,e){if("circle"===t.type&&"circle"===e.type){let i=t.x,r=t.y,a=t.radius,n=e.x,o=e.y,l=e.radius;return Object(s.a)(i,r,n,o)<=a+l}let i="circle"===t.type?t.getAxes(e):t.getAxes(),r="circle"===e.type?e.getAxes(t):e.getAxes(),a=[...i,...r];for(let i of a){let s=t.getProjection(i),r=e.getProjection(i);if(!s.overlaps(r))return!1}return!0}}},JaKB:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return s}),i.d(e,"RectSprite",function(){return r}),i.d(e,"CircleSprite",function(){return a});class s{constructor({type:t,fillStyle:e,name:i="anonymous",visible:s=!1}={}){this.type=t,this.name=i,this.visible=s,this.fillStyle=e}}class r extends s{constructor(t){super(t),this.type="rect",this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height}}class a extends s{constructor(t){super(t),this.type="circle",this.x=t.x,this.y=t.y,this.radius=t.radius}}},RH81:function(t,e,i){"use strict";i.r(e);e.default=class{constructor(t,e,i){this.x=t,this.y=e,this.radius=i,this.rotate=0,this.offset=0,this.moveSpeed=0,this.rotateSpeed=0,this.behaviors=[]}setMoveSpeed(t){this.moveSpeed=t,this.setRotateSpeed(t/this.radius)}setRotateSpeed(t){this.rotateSpeed=t}addBehavior(t){Array.isArray(t)?this.behaviors=[...this.behaviors,...t]:this.behaviors=[...this.behaviors,t]}update(t){for(let e of this.behaviors)e.call(null,this,t)}render(t){let{x:e,y:i,radius:s,rotate:r,offset:a}=this;t.save(),t.translate(e+a,i),t.rotate(r),t.beginPath(),t.arc(0,0,s,0,2*Math.PI,!1),t.moveTo(-s,0),t.lineTo(s,0),t.moveTo(0,-s),t.lineTo(0,s),t.fill(),t.stroke(),t.restore()}reset(){this.rotate=0,this.offset=0}static rotate(t,e){let i=t.rotateSpeed*e;i%=2*Math.PI,t.rotate=i}static move(t,e){let{moveSpeed:i}=t,s=t.moveSpeed*e;t.offset=s}}},UwLk:function(t,e,i){"use strict";i.r(e);e.default=class{constructor(t,e={}){this.ctx=t,this.radius=e.radius||5,this.count=e.count||6,this.duration=e.duration||8,this.margin=e.margin||10,this.color="#f48041",this.index=0,this.show=this.duration,this.point=this.computerPoint(),this.isLoading=!1}computerPoint(){let t=[],{ctx:e,count:i,radius:s,margin:r}=this,a=i*s*2+(i-1)*r,n=(e.canvas.width-a)/2;for(let e=0;e<i;e++)t[e]=n+s+(2*s+r)*e;return t}renderArc(t,e){let{ctx:i,radius:s,point:r}=this,a=r[t],n=i.canvas.height/2;i.save(),i.beginPath(),i.arc(a,n,s*e,0,2*Math.PI),i.fill(),i.restore()}startLoading(){let{index:t,count:e,margin:i,duration:s,show:r}=this;for(let i=0;i<e;i++)i===t?this.renderArc(i,.8+.6*s/r):this.renderArc(i,.8)}animate(){let{ctx:t,color:e,count:i,show:s}=this;this.duration<1&&(this.duration=s,this.index+=1),this.index>=i&&(this.index=0),this.duration-=1,t.clearRect(0,0,t.canvas.width,t.canvas.height),this.isLoading&&(t.save(),t.fillStyle=e,this.startLoading(),t.restore(),window.requestAnimationFrame(this.animate.bind(this)))}start(){this.isLoading=!0,this.animate()}stop(){let{ctx:t}=this;this.isLoading=!1}}},V1Io:function(t,e,i){"use strict";i.r(e);class s{constructor(t,e=s.linear()){this.timeFunc=e,this.duration=t,this.isRunning=!1}start(t){"function"==typeof t&&(this.timeFunc=t),this.startTime=Date.now(),this.isRunning=!0}getElapsedTime(){if(this.isOver())return this.duration;let t=Date.now()-this.startTime,e=t/this.duration;return t*(this.timeFunc(e)/e)}stop(){this.startTime=null,this.isRunning=!1}isOver(){return!this.isRunning||Date.now()-this.startTime>this.duration}static linear(){return function(t){return t}}static easeIn(t=1){return function(e){return Math.pow(e,2*t)}}static easeOut(t=1){return function(e){return 1-Math.pow(1-e,2*t)}}static easeInOut(){return function(t){return t-Math.sin(t*Math.PI*2)/(2*Math.PI)}}}e.default=s},Vz5x:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return n}),i.d(e,"Polygon",function(){return o}),i.d(e,"Circle",function(){return l});var s=i("honw"),r=i("iSVj"),a=i("ysz4");class n{constructor({type:t,fillStyle:e,name:i="anonymous",visible:s=!1}={}){this.type=t,this.name=i,this.visible=s,this.fillStyle=e}}class o extends n{constructor(t){super(t),this.type="rect",this.edges=t.edges,this.radius=t.radius,this.x=t.x,this.y=t.y,this.createPoint()}createPoint(){let{x:t,y:e,edges:i,radius:s}=this,r=2*Math.PI/i,a=[];for(let n=0;n<i;n++){let i=r*(n+1);a.push({x:Math.cos(i)*s+t,y:Math.sin(i)*s+e})}this.points=a}render(t){let{edges:e,points:i,fillStyle:s}=this;t.save(),t.fillStyle=s;let r=i[0];t.beginPath(),t.moveTo(r.x,r.y);for(let s=1;s<e;s++)t.lineTo(i[s].x,i[s].y);t.closePath(),t.fill(),t.restore()}getAxes(){let t=this.points,e=[];for(let i=0,r=t.length-1;i<r;i++){let r=new s.default(t[i].x,t[i].y),a=new s.default(t[i+1].x,t[i+1].y);e.push(r.subtract(a).perpendicular().normalize())}let i=t[0],r=t[t.length-1],a=new s.default(r.x,r.y),n=new s.default(i.x,i.y);return e.push(a.subtract(n).perpendicular().normalize()),e}getProjection(t){let e=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;for(let r of this.points){let a=new s.default(r.x,r.y).dotProduct(t);e=Math.min(e,a),i=Math.max(i,a)}return new r.default(e,i)}isPointInPath(t,e,i){let{edges:s,points:r}=this,a=r[0];t.beginPath(),t.moveTo(a.x,a.y);for(let e=1;e<s;e++)t.lineTo(r[e].x,r[e].y);return t.closePath(),t.isPointInPath(e,i)}move(t,e){this.points=this.points.map(i=>({x:i.x+t,y:i.y+e}))}}class l extends n{constructor(t){super(t),this.type="circle",this.x=t.x,this.y=t.y,this.radius=t.radius}render(t){t.save(),t.fillStyle=this.fillStyle,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fill(),t.restore()}getAxes(t){let{x:e,y:i}=this,r=null,n=Number.MAX_SAFE_INTEGER;for(let[s,o]of t.points.entries()){let t=Object(a.a)(e,i,o.x,o.y);t<n&&(n=t,r=o)}let o=new s.default(e,i),l=new s.default(r.x,r.y);return[o.subtract(l).normalize()]}getProjection(t){let{x:e,y:i,radius:a}=this,n=new s.default(e,i).dotProduct(t),o=[n-a,n,n+a];return new r.default(Math.min.call(null,...o),Math.max.call(null,...o))}isPointInPath(t,e,i){return t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.closePath(),t.isPointInPath(e,i)}move(t,e){this.x=this.x+t,this.y=this.y+e}}},Y14n:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("Anus");const n="zoom";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},ZF4W:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("+jL+");const n="axes";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},amHI:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("p57E");const n="animate";class o extends s.a{constructor(){super(n);this.canvasInstances.push(new a.default(3e3,"linear")),this.canvasInstances.push(new a.default(3e3,"easeIn")),this.canvasInstances.push(new a.default(3e3,"easeOut")),this.canvasInstances.push(new a.default(3e3,"easeInOut"))}createButton(){let t=document.createElement("button");t.style.position="absolute",t.style.left="50%",t.style.top="10px",t.style.width="80px",t.style.height="30px",t.style.textAlign="center",t.style.border="none",t.style.background="green",t.style.color="white",t.style.borderRadius="10px",t.style.transform="translateX(-50%)",t.style.zIndex="3",t.innerText="start",this.el.lastChild.style.position="relative",this.el.lastChild.appendChild(t),t.addEventListener("click",()=>{setTimeout(()=>{this.canvasInstances.forEach(t=>{t.checked&&(t.reset(),t.start())})})},!1)}}if(Object(r.c)(n)){let t=new o;t.render().then(()=>t.createButton())}},"bxh+":function(t,e,i){"use strict";i.r(e);var s=i("Qb4n"),r=i("kZAv"),a=i("0Pcb");e.default=class extends s.a{constructor(){super(),this.ctx=this.getContext("2d"),this.fps=0,this.lastFrameTime=0,this.lastDrawFps=0,this.lastDrawFpsTime=0,this.animateOutAngle=0,this.animateInnerAngle=0,this.arrowCount=6,this.arrowLength=10,this.canShowOutArrow=!1,this.canShowInnerArrow=!1,this.canShowLineArrow=!1,this.animateEnd=!0,this.animateStart=!1}drawText(){let{ctx:t,width:e,height:i}=this;t.save(),t.font=r.a,t.textBaseline="middle",t.fillStyle="rgba(100,140,230,1)";let s=t.measureText("非零环绕法则").width;t.translate(e/2,i/2),t.fillText("非零环绕法则",-s/2,0),t.restore()}drawRule(){let{canShowOutArrow:t,canShowInnerArrow:e,canShowLineArrow:i,fps:s,width:r}=this;t&&(s&&this.animateOutAngle<2*Math.PI&&(this.animateOutAngle+=2*Math.PI/s),this.animateOutAngle=Math.min(2*Math.PI,this.animateOutAngle),this.animateOutAngle===2*Math.PI&&(this.canShowInnerArrow=!0),this.drawOutArrow()),e&&(s&&this.animateInnerAngle<2*Math.PI&&(this.animateInnerAngle+=2*Math.PI/s),this.animateInnerAngle=Math.min(2*Math.PI,this.animateInnerAngle),this.animateInnerAngle===2*Math.PI&&(this.canShowLineArrow=!0),this.drawInnerArrow()),i&&(this.drawLineArrow(),this.animateEnd=!0)}drawOutArrow(){let t=Math.PI/4,{ctx:e,width:i,height:s,outRadius:r,arrowLength:a,arrowCount:n,animateOutAngle:o}=this;e.save(),e.translate(i/2,s/2),e.strokeStyle="red",e.beginPath(),e.arc(0,0,r,0,o,!1);for(let i=1;i<=n;i++)e.rotate(2*Math.PI/n),e.moveTo(r,0),e.lineTo(r-a*Math.cos(t),-a*Math.sin(t)),e.moveTo(r,0),e.lineTo(r+a*Math.cos(t),-a*Math.sin(t));e.stroke(),e.restore()}drawInnerArrow(){let t=Math.PI/4,{ctx:e,width:i,height:s,innerRadius:r,arrowLength:a,arrowCount:n,animateInnerAngle:o}=this;e.save(),e.translate(i/2,s/2),e.rotate(Math.PI/2),e.strokeStyle="#CD00CD",e.beginPath(),e.arc(0,0,r,0,-o,!0);for(let i=1;i<=n;i++)e.rotate(2*Math.PI/n),e.moveTo(r,0),e.lineTo(r-a*Math.cos(t),a*Math.sin(t)),e.moveTo(r,0),e.lineTo(r+a*Math.cos(t),a*Math.sin(t));e.stroke(),e.restore()}drawLineArrow(){let t=Math.PI/4,{ctx:e,width:i,height:s,outRadius:r,arrowLength:n}=this,o=r+(a.a.pc?60:30);e.save(),e.translate(i/2,s/2),e.strokeStyle="green",e.rotate(-Math.PI/4),e.beginPath(),e.moveTo(0,0),e.lineTo(o,0),e.lineTo(o-n*Math.cos(t),-n*Math.sin(t)),e.moveTo(o,0),e.lineTo(o-n*Math.cos(t),n*Math.sin(t)),e.stroke(),e.restore()}drawCircle(){let{ctx:t,width:e,height:i,outRadius:s,innerRadius:r}=this;t.save(),t.fillStyle="rgba(100,140,230,0.5)",t.strokeStyle="rgba(100,140,230,1)",t.translate(e/2,i/2),t.beginPath(),t.arc(0,0,s,0,2*Math.PI,!1),t.moveTo(r,0),t.arc(0,0,r,0,2*Math.PI,!0),t.shadowColor="rgba(0,0,0,0.8)",t.shadowOffsetX=.2*(s-r),t.shadowOffsetY=t.shadowOffsetX,t.shadowBlur=.3*(s-r),t.fill(),t.shadowColor=void 0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.stroke(),t.restore()}drawFps(){let{ctx:t,width:e,height:i,fps:s,lastDrawFps:a,lastDrawFpsTime:n}=this,o=Date.now();o-n>=100&&(this.lastDrawFps=s,this.lastDrawFpsTime=o),t.save(),t.font=r.a;let l=t.measureText("M").width;t.fillText("FPS："+a,10,l+10),t.restore()}drawAnimateRule(){this.animateStart=!0,this.animateEnd=!1,window.requestAnimationFrame(this.draw.bind(this))}draw(t){let{ctx:e,width:i,height:s}=this;e.clearRect(0,0,i,s),this.drawCircle(),this.drawText(),this.drawFps(),this.animateStart&&(this.computeFps(t),this.canShowOutArrow=!0,this.drawRule(),this.animateEnd||window.requestAnimationFrame(this.draw.bind(this)))}computeFps(t){let{lastFrameTime:e}=this;e&&t&&(this.fps=Math.floor(1e3/(t-e))),this.lastFrameTime=t}render(t){super.render(t);let{ctx:e,width:i,height:s}=this,r=Math.min(i,s);this.outRadius=.8*r/2,this.innerRadius=.6*this.outRadius,this.draw(performance.now()),setTimeout(this.drawAnimateRule.bind(this),300)}}},dpfr:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("1atV");const n="shape";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},hVpf:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("1Yr0");const n="collide_02";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},honw:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return r});var s=i("ysz4");class r{constructor(t,e){this.x=t,this.y=e}getMagnitude(){return Object(s.a)(0,0,this.x,this.y)}add(t){return new r(this.x+t.x,this.y+t.y)}subtract(t){return new r(this.x-t.x,this.y-t.y)}dotProduct(t){return this.x*t.x+this.y*t.y}perpendicular(){return new r(this.y,-this.x)}normalize(){let t=this.getMagnitude();return t?new r(this.x/t,this.y/t):new r(0,0)}}},iSVj:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return s});class s{constructor(t,e){this.min=t,this.max=e}overlaps(t){return this.max>t.min&&t.max>this.min}}},jJnk:function(t,e,i){"use strict";i.r(e);var s=i("Qb4n"),r=i("kZAv");e.default=class extends s.a{constructor(){super(),this.ctx=this.getContext("2d")}initVariable(){this.radius=Math.min(this.width,this.height)/2*.8,this.radius=Math.min(this.radius,200),this.centerRadius=10,this.marginBound=20,this.font=r.a,this.secondPointerLength=this.radius-this.marginBound,this.minutePointerLength=.8*this.secondPointerLength,this.hourPointerLength=.6*this.secondPointerLength}setCtxAttribute(){let{ctx:t}=this;t.fillStyle="#000000",t.strokeStyle="#000000",t.lineWidth=.5,t.font=this.font}drawDisc(t){t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI),t.stroke()}drawScale(t){let e,i=this.radius-this.marginBound,s=["1","2","3","4","5","6","7","8","9","10","11","12"];t.save(),t.textAlign="center",t.textBaseline="middle";for(let r=0,a=s.length;r<a;r++)e=Math.PI/6*(r-2),t.fillText(s[r],i*Math.cos(e),i*Math.sin(e));t.restore()}drawCenterArc(t){t.save(),t.fillStyle="red",t.beginPath(),t.arc(0,0,this.centerRadius,0,2*Math.PI,!1),t.closePath(),t.fill(),t.restore()}drawHourPointer(t,e){let i=Math.PI/6*(e-3);this.drawPointer(t,i,this.hourPointerLength)}drawMinutePointer(t,e){let i=Math.PI/30*(e-15);t.save(),t.fillStyle="#4286f4",t.strokeStyle="#4286f4",this.drawPointer(t,i,this.minutePointerLength),t.restore()}drawSecondPointer(t,e){let i=Math.PI/30*(e-15);t.save(),t.rotate(i),t.lineWidth=1,t.fillStyle="#ffffff",t.beginPath(),t.arc(0,0,.8*this.centerRadius,0,2*Math.PI),t.fill(),t.fillStyle="#e01619",t.beginPath(),t.arc(0,0,.6*this.centerRadius,0,2*Math.PI),t.fill(),t.strokeStyle="#a52729",t.beginPath(),t.moveTo(0,0),t.lineTo(this.secondPointerLength,0),t.stroke(),t.restore()}drawPointer(t,e,i){let s=45*Math.PI/180,r=this.centerRadius*Math.cos(s),a=this.centerRadius*Math.sin(s);t.save(),t.rotate(e),t.beginPath(),t.moveTo(r,-a),t.lineTo(i,0),t.lineTo(r,a),t.arc(0,0,this.centerRadius,s,2*Math.PI-s),t.closePath(),t.fill(),t.stroke(),t.restore()}startClock(){let{ctx:t,width:e,height:i}=this;t.clearRect(-e/2,-i/2,e,i);let s=new Date,r=s.getHours(),a=s.getMinutes(),n=s.getSeconds();this.drawDisc(t),this.drawCenterArc(t),this.drawScale(t),this.drawHourPointer(t,r),this.drawMinutePointer(t,a),this.drawSecondPointer(t,n),window.requestAnimationFrame(this.startClock.bind(this))}render(t){super.render(t),this.initVariable(),this.setCtxAttribute(),this.ctx.translate(this.width/2,this.height/2),this.startClock()}}},"l6y/":function(t,e,i){"use strict";i.r(e);var s=i("8xBV"),r=i("ysz4"),a=i("Dd8r");const n="editor";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render(),e.default=o},"lLY/":function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return r});var s=i("ysz4");class r{constructor(){return this instanceof r?this:new r}isCandidateForCollide(t,e){return t.visible&&e.visible&&t!==e}didCollide(t,e){let i=t.type,s=e.type;return"rect"===i&&"rect"===s?this.didRectCollide(t,e):"circle"===i&&"circle"===s?this.didCircleCollide(t,e):"rect"===i?this.didRectWidthCircleCollide(t,e):this.didRectWidthCircleCollide(e,t)}didRectCollide(t,e){let i=t.left+t.width>e.left&&t.left<e.left+e.width,s=t.top<e.top+e.height&&t.top+t.height>e.top;return i&&s}didCircleCollide(t,e){return Object(s.a)(t.x,t.y,e.x,e.y)<t.radius+e.radius}didRectWidthCircleCollide(t,e){let i={x:void 0,y:void 0};return e.x<t.left?i.x=t.left:e.x<t.left+t.width?i.x=e.x:i.x=t.left+t.width,e.y<t.top?i.y=t.top:e.y<t.top+t.height?i.y=e.y:i.y=t.top+t.height,Object(s.a)(e.x,e.y,i.x,i.y)<e.radius}}},mEuQ:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("/Jkk");const n="collide_01";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},p57E:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return n});var s=i("Qb4n"),r=i("V1Io"),a=i("RH81");class n extends s.a{constructor(t,e){super(),this.time=new r.default(t,this.mapTimingFunc(e)),this.ctx=this.getContext("2d"),this.padding=30,this.timeType=e,this.checked=!1}mapTimingFunc(t){switch(t){case"easeIn":return r.default.easeIn();case"easeOut":return r.default.easeOut();case"easeInOut":return r.default.easeInOut();default:return r.default.linear()}}drawBall(){let{ctx:t}=this;t.fillStyle="orange",t.strokeStyle="red",this.ball.render(this.ctx)}drawPlatform(){let{width:t,height:e,padding:i,ctx:s}=this;s.strokeStyle="green",s.beginPath(),s.moveTo(i,e-i),s.lineTo(t-i,e-i),s.stroke()}createBall(){let{width:t,height:e,padding:i,ctx:s}=this;this.ball=new a.default(this.padding,e-i-20-2*s.lineWidth,20),this.ball.addBehavior([a.default.rotate,a.default.move]),this.ball.setMoveSpeed((t-2*i)/this.time.duration)}createCheckBtn(){let t=document.createElement("div");t.style.position="absolute",t.style.right=2*this.padding+"px",t.style.bottom=this.height/4+"px",t.style.width="120px",t.style.height="60px",t.style.textAlign="right";let e=document.createElement("input");e.type="checkbox",e.value=this.timeType;let i=document.createElement("label");i.innerText=this.timeType,t.appendChild(e),t.appendChild(i),this.el.parentElement.style.position="relative",this.el.parentElement.appendChild(t),e.addEventListener("change",t=>{this.checked=t.target.checked},!1)}setTimingFunc(t){if(!(this.time instanceof r.default))throw new Error("please create Time instance before invoke setTimingFunc");this.time.timeFunc=t}start(){this.time.isRunning||this.time.start(),this.animate()}stop(){this.time.stop()}reset(){this.time.stop(),this.ball.reset()}draw(){let{width:t,height:e,ctx:i}=this;i.clearRect(0,0,t,e),this.drawPlatform(),this.drawBall()}animate(){this.time.isOver()||(this.ball.update(this.time.getElapsedTime()),this.draw(),window.requestAnimationFrame(this.animate.bind(this)))}render(t){super.render(t);let{width:e,height:i,padding:s,ctx:r}=this;e-2*s<100&&(this.padding=0),i<s&&(this.padding=0),this.createCheckBtn(),this.createBall(),this.draw()}}},sl1b:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var s=i("8xBV"),r=i("ysz4"),a=i("jJnk");const n="clock";class o extends s.a{constructor(){super(n),this.canvasInstances.push(new a.default)}}Object(r.c)(n)&&(new o).render()},w69y:function(t,e,i){"use strict";i.r(e);e.default=class{constructor(t,e={}){this.ctx=t,this.width=e.width||1,this.height=e.height||this.getHeight(),this.fillStyle="rgba(0,0,0,0.8)",this.blinkOn=500,this.blinkOff=500,this.lastShowTime=0}getHeight(){let{ctx:t}=this,e=t.measureText("M").width;return e+e/6}erase(){let{ctx:t,imgData:e,width:i,height:s,left:r,bottom:a}=this;e&&t.putImageData(e,0,0,r-1,a-s-1,i+2,s+2)}draw(){let{ctx:t,left:e,bottom:i,width:s,height:r,fillStyle:a}=this;t.save(),t.fillStyle=a,t.lineWidth=s,t.fillRect(e,i-r,s,r),t.restore()}blink(t){let{ctx:e,blinkOn:i,blinkOff:s,lastShowTime:r}=this,a=t-r;a>i+s?(this.draw(),this.lastShowTime=t):a>i&&this.erase(),this.timer=window.requestAnimationFrame(this.blink.bind(this))}move(t,e){let{ctx:i,width:s,height:r,timer:a}=this;this.erase(),this.imgData=i.getImageData(0,0,i.canvas.width,i.canvas.height),this.left=t,this.bottom=e,this.lastShowTime=0,window.cancelAnimationFrame(a),this.blink(performance.now())}}},xMqE:function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return h});var s=i("Qb4n"),r=i("ysz4"),a=i("kZAv"),n=i("0Pcb"),o=i("Vz5x"),l=i("JS/M");class h extends s.a{constructor(){super(),this.polygons=[],this.circles=[],this.ctx=this.getContext("2d"),this.isCollide=!1,this.collideColor="rgba(244, 85, 65, 0.8)",this.collide=new l.default}createPolygon(){let{width:t,height:e,polygons:i}=this,s=["rgba(66, 134, 244, 0.5)","rgba(65, 244, 223, 0.5)"],a=i=>{let a=Math.min(Math.min(t,e)/10,50);a+=a/4*i;let n=Math.floor(Object(r.d)(0,t)),l=Math.floor(Object(r.d)(0,e));return n+a>t&&(n-=a),l+a>e&&(l-=a),new o.Polygon({name:`polygon_${i}`,x:n,y:l,radius:a,edges:5+i,fillStyle:s[i%2],visible:!0})};for(let t=0,e=2;t<e;t++){do{this.draggingSprite=a(t),this.didCollide()}while(this.isCollide);i[t]=this.draggingSprite,this.draggingSprite=null}}createCircle(){let{width:t,height:e,circles:i}=this,s=["rgba(244, 235, 65, 0.5)","rgba(66, 244, 86,0.5)"],a=Math.min(Math.min(t,e)/10,50),n=i=>{let n=Math.floor(Object(r.d)(a,t)),l=Math.floor(Object(r.d)(a,e));return n+a>t&&(n-=a),l+a>e&&(l-=a),new o.Circle({name:`circle_${i}`,x:n,y:l,radius:a,fillStyle:s[i%2],visible:!0})};for(let t=0,e=2;t<e;t++){do{this.draggingSprite=n(t),this.didCollide()}while(this.isCollide);i[t]=this.draggingSprite,this.draggingSprite=null}}drawTitle(){let{ctx:t,width:e,height:i,isCollide:s,collideColor:r}=this;t.save(),t.font=a.a,t.textAlign="center",t.fillStyle=s?r:"rgba(66, 134, 244, 0.8)";let n=t.measureText("M").width;t.fillText(s?"碰撞了":"碰撞检测：分离轴法",e/2,n+n/6+10),t.restore()}drawPolygon(){let{ctx:t,polygons:e}=this;e.forEach(e=>e.render(t))}drawCircle(){let{circles:t,ctx:e}=this;t.forEach(t=>t.render(e))}drawCollideTip(){let{ctx:t,isCollide:e,collideColor:i,width:s,height:r}=this;e&&(t.save(),t.strokeStyle=i,t.lineWidth=10,t.strokeRect(0,0,s,r),t.restore())}bindEvent(){let{width:t,height:e,el:i}=this,s=t=>e=>t.call(this,(t=>{let e,i;return t.preventDefault(),n.a.pc?(e=t.x,i=t.y):(e=t.touches[0].pageX,i=t.touches[0].pageY),{ex:e,ey:i}})(e));n.a.pc?(i.addEventListener("mousedown",s(this.mouseDown),!1),i.addEventListener("mousemove",s(this.mouseMove),!1),i.addEventListener("mouseup",this.mouseUp.bind(this),!1),i.addEventListener("mouseleave",this.mouseUp.bind(this),!1)):(i.addEventListener("touchstart",s(this.mouseDown),!1),i.addEventListener("touchmove",s(this.mouseMove),!1),i.addEventListener("touchend",this.mouseUp.bind(this),!1),i.addEventListener("touchcancel",this.mouseUp.bind(this),!1))}mouseDown({ex:t,ey:e}){let{el:i,ctx:s,polygons:a,circles:n}=this,{x:o,y:l}=Object(r.h)(i,t,e);for(let t of a)if(t.visible&&t.isPointInPath(s,o,l)){this.draggingSprite=t,this.lastMovePoint={x:o,y:l};break}if(!this.draggingSprite)for(let t of n)if(t.visible&&t.isPointInPath(s,o,l)){this.draggingSprite=t,this.lastMovePoint={x:o,y:l};break}}mouseMove({ex:t,ey:e}){let{el:i,ctx:s,collide:a,polygons:n,draggingSprite:o,width:l,height:h,lastMovePoint:d}=this,{x:c,y:u}=Object(r.h)(i,t,e);o&&(this.moveSprite(o,c,u),this.lastMovePoint={x:c,y:u},this.didCollide(),this.draw())}mouseUp(){this.draggingSprite=null,this.lastMovePoint=null}moveSprite(t,e,i){let{width:s,height:r,lastMovePoint:a}=this,n=e-a.x,o=i-a.y;t.move(n,o)}didCollide(){let{polygons:t,circles:e,draggingSprite:i,collide:s}=this;this.isCollide=!1;let r=[...t,...e];if(i)for(let t of r)s.isCandidateForCollide(i,t)&&s.didCollide(i,t)&&(this.isCollide=!0,console.log(`occur collide: ${i.name} and ${t.name}`))}draw(){let{ctx:t,width:e,height:i}=this;t.clearRect(0,0,e,i),this.drawTitle(),this.drawPolygon(),this.drawCircle(),this.drawCollideTip()}render(t){super.render(t),this.createPolygon(),this.createCircle(),this.draw(),this.bindEvent()}}}}]);