(window.webpackJsonp=window.webpackJsonp||[]).push([[22,52,53,54],{"0Pcb":function(e,t,i){"use strict";const s=function(){const e=window.navigator.userAgent;return window.location.href,function(e){const t={},i=e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0||e.indexOf("iPod")>=0,s=e.indexOf("Android")>0;return t.ios=i,t.android=s,t.mobile=i||s,t.pc=!i&&!s,t}(e)}();t.a=s},"14PU":function(e,t,i){var s=i("8VZJ");"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,a);s.locals&&(e.exports=s.locals)},"8VZJ":function(e,t,i){(t=e.exports=i("I1BE")(!1)).push([e.i,'.ZKHB3b7wcSwR8Wl6fTxfr{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:stretch;align-items:stretch;height:100%;overflow:hidden;opacity:0;transition:all .5s ease-out;will-change:opacity}._2p3_lfNbTv7jvNTjDcwiNG{margin:20px 10px;padding:0;display:block;float:left;width:calc(25vw - 20px);height:calc(25vw - 20px);display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._3PLz2jKWg5aqWZ0L2XSk1A{width:calc(100vw - 20px);height:calc(100vw - 20px)}._2Aqnhl0UilhQmcJ__tvzcs{-ms-flex:1 1 auto;flex:1 1 auto;width:50%;margin:20px;padding:20px;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border:1px solid #4169e1;border-radius:10px}._3PcgzXzpkVz38FWGWVlBgF{-ms-flex:0 0 auto;flex:0 0 auto;height:42px;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;overflow:auto}._1J5n2jI7d_iyhVCFsz6kGo{padding:0 10px;background:hsla(0,0%,40%,.6);color:hsla(0,0%,100%,.6);line-height:42px;border-right:1px solid #fff;cursor:pointer}._1J5n2jI7d_iyhVCFsz6kGo:hover{background:hsla(0,0%,40%,.4);color:#fff}.lG27D-ztuflQnRQrYzrEk{background:#f5f2f0;color:#3a73d1;padding:0 10px;line-height:42px;border-right:1px solid #fff;cursor:pointer}.lG27D-ztuflQnRQrYzrEk:hover{color:#0858db}._1Uc2dRqvsUOU-zqNfc0zoP{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:scroll;background:#f5f2f0}.uhY8gttG11j6aitIqgmsp{display:none}._1tG49ZjfMiBGC9SRfhiVb{display:block}._11qLAYl8YioCWH0Wa6nugG{-ms-flex:1 1 auto;flex:1 1 auto;margin:20px;padding:20px;width:50%;border:1px solid #4169e1;border-radius:10px;box-sizing:content-box}._3ddyhRKJ33suqfgO4btVi_{border:none;margin:0;padding:0;border-radius:0;display:block}._2p3_lfNbTv7jvNTjDcwiNG ._11qLAYl8YioCWH0Wa6nugG{margin:0;padding:10px;width:100%;height:100%;box-sizing:border-box;border:1px solid #4169e1;border-radius:10px}._3I7L3oK-Gj0uKsP2dcD9jc{position:fixed;top:calc(50% - 16px);left:calc(50% - 16px);width:32px;height:32px;border-radius:50%;background:#b3d4fc;animation:_2UXogTuqtyG9ZgCq7AZ_5F 1.8s ease infinite}._3I7L3oK-Gj0uKsP2dcD9jc:after,._3I7L3oK-Gj0uKsP2dcD9jc:before{content:"";display:block;position:absolute;height:inherit;width:inherit;background:inherit;border-radius:inherit;animation:_2UXogTuqtyG9ZgCq7AZ_5F 1.8s ease infinite}._3I7L3oK-Gj0uKsP2dcD9jc:before{left:calc(50% - 80px);background:#07a}._3I7L3oK-Gj0uKsP2dcD9jc:after{left:calc(50% + 48px);background:#690}.y1HRpH4VDRhNdBAt12eEI>._2Aqnhl0UilhQmcJ__tvzcs{display:none}._1gBDP-PRzphfndCrFoPJoO{opacity:1}.NMrsesPPXb57BISDZo4Q5{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._3925vOYf0GdFYymPirm6yB{color:red;font-weight:700;font-size:24px}._1PFQRcWzh5gn96QgIv6w9-{color:#999;font-size:12px}@keyframes _2UXogTuqtyG9ZgCq7AZ_5F{0%{top:calc(50% - 16px);transform:rotate(0deg)}50%{top:calc(50% - 80px);transform:rotate(-180deg)}to{top:calc(50% - 16px);transform:rotate(-1turn)}}',""]),t.locals={single:"ZKHB3b7wcSwR8Wl6fTxfr",collect:"_2p3_lfNbTv7jvNTjDcwiNG",collectMobile:"_3PLz2jKWg5aqWZ0L2XSk1A",codes:"_2Aqnhl0UilhQmcJ__tvzcs",codesTab:"_3PcgzXzpkVz38FWGWVlBgF",otherTab:"_1J5n2jI7d_iyhVCFsz6kGo",activeTab:"lG27D-ztuflQnRQrYzrEk",codesSection:"_1Uc2dRqvsUOU-zqNfc0zoP",otherSection:"uhY8gttG11j6aitIqgmsp",activeSection:"_1tG49ZjfMiBGC9SRfhiVb",result:"_11qLAYl8YioCWH0Wa6nugG",mobileResult:"_3ddyhRKJ33suqfgO4btVi_",loading:"_3I7L3oK-Gj0uKsP2dcD9jc",spin:"_2UXogTuqtyG9ZgCq7AZ_5F",mobile:"y1HRpH4VDRhNdBAt12eEI",loaded:"_1gBDP-PRzphfndCrFoPJoO",error:"NMrsesPPXb57BISDZo4Q5",errorTitle:"_3925vOYf0GdFYymPirm6yB",errorTip:"_1PFQRcWzh5gn96QgIv6w9-"}},"8xBV":function(e,t,i){"use strict";var s=i("J66h"),a=i("ysz4"),n=i("kZAv"),r=i("ai4s");var o=class{constructor(e){this.moduleName=e,this.sourcePath=`example/${e}/canvas`,this.requestPath="https://api.github.com/repos/snayan/canvas-demo/contents"}fetch(e){return fetch(`${this.requestPath}/${e}`,{credentials:"omit",method:"get",mode:"cors"})}async getCanvasFiles(){let e,t=[],i=r.a.get(this.moduleName);if(i&&i.length)return i;let s=await this.fetch(this.sourcePath);if(!s.ok)throw new Error(JSON.stringify({status:s.status,statusText:s.statusText,body:await s.text(),url:s.url}));e=await s.json();for(let i of e)"file"===i.type&&(s=await this.fetch(i.path)).ok&&t.push(await s.json());return r.a.set(this.moduleName,t),t}},l=i("0Pcb"),c=i("wZee"),d=i.n(c),h=i("14PU"),u=i.n(h);t.a=class{constructor(e){this.canvasInstances=[],this.moduleName=e,this.el=document.createElement("div"),this.isSingleModule=Object(a.c)(e),this.github=new o(e),this.link=`${n.c}?module=${e}`,l.a.mobile&&this.el.classList.add(u.a.mobile)}loading(){let e=document.createElement("i");return e.classList.add(u.a.loading),document.body.appendChild(e),()=>{document.body.removeChild(e)}}renderCanvas(){let e=this.canvasInstances.length,t=document.createElement("div");t.classList.add(u.a.result),l.a.mobile&&t.classList.add(u.a.mobileResult),this.el.appendChild(t),e>0&&setTimeout(()=>{let{width:i,height:s}=t.getBoundingClientRect(),a=i>2*s,n=document.createElement("div");n.style.display="inline-block",a?(n.style.width=`${100/e}%`,n.style.height="100%"):(n.style.width="100%",n.style.height=`${100/e}%`);for(let e of this.canvasInstances){let i=n.cloneNode();t.appendChild(i),e.render(i)}},0)}async renderCode(){let e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("nav"),a=[],n=[],r="0";try{let e=await this.github.getCanvasFiles();for(let[t,{name:i,content:r}]of e.entries())a.push(`<span class='${0===t?u.a.activeTab:u.a.otherTab}' data-index='${t}'>${i}</span>`),n.push(`<div class='${0===t?u.a.activeSection:u.a.otherSection}' data-index='${t}' ><pre class="language-typescript">${d.a.highlight(s.Base64.decode(r),d.a.languages.javascript,"typescript")}</pre></div>`)}catch(e){let t=JSON.parse(e.message);n.push(`<div class='${u.a.error}'><h4 class='${u.a.errorTitle}'>[${t.status}]${t.statusText}</h4><p class='${u.a.errorTip}'>${t.url}</p></div>`)}i.addEventListener("click",e=>{let s=e.target.dataset.index;if(s===r)return!1;let a=i.querySelectorAll("span"),n=t.querySelector(`div[data-index='${r}']`),o=t.querySelector(`div[data-index='${s}']`);for(let e of a)e.className=e.dataset.index===s?u.a.activeTab:u.a.otherTab;return n.className=u.a.otherSection,o.className=u.a.activeSection,r=s,!1}),i.className=u.a.codesTab,i.innerHTML=a.join(""),e.appendChild(i),t.className=u.a.codesSection,t.innerHTML=n.join(""),e.appendChild(t),e.className=u.a.codes,this.el.appendChild(e)}async render(){let e=this.loading();if(this.el.innerHTML="",document.body.appendChild(this.el),this.isSingleModule)this.el.classList.add(u.a.single),l.a.pc&&await this.renderCode();else{this.el.classList.add(u.a.collect);let e=document.createElement("a");e.innerText=this.moduleName,e.href=this.link,e.style.marginTop="10px",this.el.appendChild(e)}return l.a.mobile&&!this.isSingleModule&&this.el.classList.add(u.a.collectMobile),this.renderCanvas(),e(),setTimeout(()=>{this.el.classList.add(u.a.loaded)},0),this}}},Qb4n:function(e,t,i){"use strict";var s=i("kZAv");t.a=class{constructor(){this.el=document.createElement("canvas")}initCanvasSize(e,t){this.el.width=e,this.el.height=t,this.width=e,this.height=t}getContext(e,t){return this.el.getContext(e,t)}render(e){this.container=e;let{width:t,height:i}=e.getBoundingClientRect();this.initCanvasSize(t||s.d,i||s.b),this.container.innerHTML="",this.container.appendChild(this.el)}}},RH81:function(e,t,i){"use strict";i.r(t);t.default=class{constructor(e,t,i){this.x=e,this.y=t,this.radius=i,this.rotate=0,this.offset=0,this.moveSpeed=0,this.rotateSpeed=0,this.behaviors=[]}setMoveSpeed(e){this.moveSpeed=e,this.setRotateSpeed(e/this.radius)}setRotateSpeed(e){this.rotateSpeed=e}addBehavior(e){Array.isArray(e)?this.behaviors=[...this.behaviors,...e]:this.behaviors=[...this.behaviors,e]}update(e){for(let t of this.behaviors)t.call(null,this,e)}render(e){let{x:t,y:i,radius:s,rotate:a,offset:n}=this;e.save(),e.translate(t+n,i),e.rotate(a),e.beginPath(),e.arc(0,0,s,0,2*Math.PI,!1),e.moveTo(-s,0),e.lineTo(s,0),e.moveTo(0,-s),e.lineTo(0,s),e.fill(),e.stroke(),e.restore()}reset(){this.rotate=0,this.offset=0}static rotate(e,t){let i=e.rotateSpeed*t;i%=2*Math.PI,e.rotate=i}static move(e,t){let{moveSpeed:i}=e,s=e.moveSpeed*t;e.offset=s}}},V1Io:function(e,t,i){"use strict";i.r(t);class s{constructor(e,t=s.linear()){this.timeFunc=t,this.duration=e,this.isRunning=!1}start(e){"function"==typeof e&&(this.timeFunc=e),this.startTime=Date.now(),this.isRunning=!0}getElapsedTime(){if(this.isOver())return this.duration;let e=Date.now()-this.startTime,t=e/this.duration;return e*(this.timeFunc(t)/t)}stop(){this.startTime=null,this.isRunning=!1}isOver(){return!this.isRunning||Date.now()-this.startTime>this.duration}static linear(){return function(e){return e}}static easeIn(e=1){return function(t){return Math.pow(t,2*e)}}static easeOut(e=1){return function(t){return 1-Math.pow(1-t,2*e)}}static easeInOut(){return function(e){return e-Math.sin(e*Math.PI*2)/(2*Math.PI)}}}t.default=s},amHI:function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return o});var s=i("8xBV"),a=i("ysz4"),n=i("p57E");const r="animate";class o extends s.a{constructor(){super(r);this.canvasInstances.push(new n.default(3e3,"linear")),this.canvasInstances.push(new n.default(3e3,"easeIn")),this.canvasInstances.push(new n.default(3e3,"easeOut")),this.canvasInstances.push(new n.default(3e3,"easeInOut"))}createButton(){let e=document.createElement("button");e.style.position="absolute",e.style.left="50%",e.style.top="10px",e.style.width="80px",e.style.height="30px",e.style.textAlign="center",e.style.border="none",e.style.background="green",e.style.color="white",e.style.borderRadius="10px",e.style.transform="translateX(-50%)",e.style.zIndex="3",e.innerText="start",this.el.lastChild.style.position="relative",this.el.lastChild.appendChild(e),e.addEventListener("click",()=>{setTimeout(()=>{this.canvasInstances.forEach(e=>{e.checked&&(e.reset(),e.start())})})},!1)}}if(Object(a.c)(r)){let e=new o;e.render().then(()=>e.createButton())}},kZAv:function(e,t,i){"use strict";i.d(t,"d",function(){return s}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return n}),i.d(t,"c",function(){return r});const s=500,a=500,n=`${i("0Pcb").a.pc?24:16}px sans-serif`,r="https://snayan.github.io/canvas-demo/"},p57E:function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var s=i("Qb4n"),a=i("V1Io"),n=i("RH81");class r extends s.a{constructor(e,t){super(),this.time=new a.default(e,this.mapTimingFunc(t)),this.ctx=this.getContext("2d"),this.padding=30,this.timeType=t,this.checked=!1}mapTimingFunc(e){switch(e){case"easeIn":return a.default.easeIn();case"easeOut":return a.default.easeOut();case"easeInOut":return a.default.easeInOut();default:return a.default.linear()}}drawBall(){let{ctx:e}=this;e.fillStyle="orange",e.strokeStyle="red",this.ball.render(this.ctx)}drawPlatform(){let{width:e,height:t,padding:i,ctx:s}=this;s.strokeStyle="green",s.beginPath(),s.moveTo(i,t-i),s.lineTo(e-i,t-i),s.stroke()}createBall(){let{width:e,height:t,padding:i,ctx:s}=this;this.ball=new n.default(this.padding,t-i-20-2*s.lineWidth,20),this.ball.addBehavior([n.default.rotate,n.default.move]),this.ball.setMoveSpeed((e-2*i)/this.time.duration)}createCheckBtn(){let e=document.createElement("div");e.style.position="absolute",e.style.right=2*this.padding+"px",e.style.bottom=this.height/4+"px",e.style.width="120px",e.style.height="60px",e.style.textAlign="right";let t=document.createElement("input");t.type="checkbox",t.value=this.timeType;let i=document.createElement("label");i.innerText=this.timeType,e.appendChild(t),e.appendChild(i),this.el.parentElement.style.position="relative",this.el.parentElement.appendChild(e),t.addEventListener("change",e=>{this.checked=e.target.checked},!1)}setTimingFunc(e){if(!(this.time instanceof a.default))throw new Error("please create Time instance before invoke setTimingFunc");this.time.timeFunc=e}start(){this.time.isRunning||this.time.start(),this.animate()}stop(){this.time.stop()}reset(){this.time.stop(),this.ball.reset()}draw(){let{width:e,height:t,ctx:i}=this;i.clearRect(0,0,e,t),this.drawPlatform(),this.drawBall()}animate(){this.time.isOver()||(this.ball.update(this.time.getElapsedTime()),this.draw(),window.requestAnimationFrame(this.animate.bind(this)))}render(e){super.render(e);let{width:t,height:i,padding:s,ctx:a}=this;t-2*s<100&&(this.padding=0),i<s&&(this.padding=0),this.createCheckBtn(),this.createBall(),this.draw()}}}}]);