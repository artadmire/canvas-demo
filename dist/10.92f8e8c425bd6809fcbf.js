(window.webpackJsonp=window.webpackJsonp||[]).push([[10,36],{"0Pcb":function(t,e,i){"use strict";const a=function(){const t=window.navigator.userAgent;return window.location.href,function(t){const e={},i=t.indexOf("iPhone")>=0||t.indexOf("iPad")>=0||t.indexOf("iPod")>=0,a=t.indexOf("Android")>0;return e.ios=i,e.android=a,e.mobile=i||a,e.pc=!i&&!a,e}(t)}();e.a=a},"14PU":function(t,e,i){var a=i("8VZJ");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(a,s);a.locals&&(t.exports=a.locals)},"7X/A":function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var a=i("8xBV"),s=i("ysz4"),n=i("bxh+");const r="cutout";class o extends a.a{constructor(){super(r),this.canvasInstances.push(new n.default)}}Object(s.c)(r)&&(new o).render()},"8VZJ":function(t,e,i){(e=t.exports=i("I1BE")(!1)).push([t.i,'.ZKHB3b7wcSwR8Wl6fTxfr{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:stretch;align-items:stretch;height:100%;overflow:hidden;opacity:0;transition:all .5s ease-out;will-change:opacity}._2p3_lfNbTv7jvNTjDcwiNG{margin:20px 10px;padding:0;display:block;float:left;width:calc(25vw - 20px);height:calc(25vw - 20px);display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._3PLz2jKWg5aqWZ0L2XSk1A{width:calc(100vw - 20px);height:calc(100vw - 20px)}._2Aqnhl0UilhQmcJ__tvzcs{-ms-flex:1 1 auto;flex:1 1 auto;width:50%;margin:20px;padding:20px;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;border:1px solid #4169e1;border-radius:10px}._3PcgzXzpkVz38FWGWVlBgF{-ms-flex:0 0 auto;flex:0 0 auto;height:42px;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;overflow:auto}._1J5n2jI7d_iyhVCFsz6kGo{padding:0 10px;background:hsla(0,0%,40%,.6);color:hsla(0,0%,100%,.6);line-height:42px;border-right:1px solid #fff;cursor:pointer}._1J5n2jI7d_iyhVCFsz6kGo:hover{background:hsla(0,0%,40%,.4);color:#fff}.lG27D-ztuflQnRQrYzrEk{background:#f5f2f0;color:#3a73d1;padding:0 10px;line-height:42px;border-right:1px solid #fff;cursor:pointer}.lG27D-ztuflQnRQrYzrEk:hover{color:#0858db}._1Uc2dRqvsUOU-zqNfc0zoP{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:scroll;background:#f5f2f0}.uhY8gttG11j6aitIqgmsp{display:none}._1tG49ZjfMiBGC9SRfhiVb{display:block}._11qLAYl8YioCWH0Wa6nugG{-ms-flex:1 1 auto;flex:1 1 auto;margin:20px;padding:20px;width:50%;border:1px solid #4169e1;border-radius:10px;box-sizing:content-box}._3ddyhRKJ33suqfgO4btVi_{border:none;margin:0;padding:0;border-radius:0;display:block}._2p3_lfNbTv7jvNTjDcwiNG ._11qLAYl8YioCWH0Wa6nugG{margin:0;padding:10px;width:100%;height:100%;box-sizing:border-box;border:1px solid #4169e1;border-radius:10px}._3I7L3oK-Gj0uKsP2dcD9jc{position:fixed;top:calc(50% - 16px);left:calc(50% - 16px);width:32px;height:32px;border-radius:50%;background:#b3d4fc;animation:_2UXogTuqtyG9ZgCq7AZ_5F 1.8s ease infinite}._3I7L3oK-Gj0uKsP2dcD9jc:after,._3I7L3oK-Gj0uKsP2dcD9jc:before{content:"";display:block;position:absolute;height:inherit;width:inherit;background:inherit;border-radius:inherit;animation:_2UXogTuqtyG9ZgCq7AZ_5F 1.8s ease infinite}._3I7L3oK-Gj0uKsP2dcD9jc:before{left:calc(50% - 80px);background:#07a}._3I7L3oK-Gj0uKsP2dcD9jc:after{left:calc(50% + 48px);background:#690}.y1HRpH4VDRhNdBAt12eEI>._2Aqnhl0UilhQmcJ__tvzcs{display:none}._1gBDP-PRzphfndCrFoPJoO{opacity:1}.NMrsesPPXb57BISDZo4Q5{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._3925vOYf0GdFYymPirm6yB{color:red;font-weight:700;font-size:24px}._1PFQRcWzh5gn96QgIv6w9-{color:#999;font-size:12px}@keyframes _2UXogTuqtyG9ZgCq7AZ_5F{0%{top:calc(50% - 16px);transform:rotate(0deg)}50%{top:calc(50% - 80px);transform:rotate(-180deg)}to{top:calc(50% - 16px);transform:rotate(-1turn)}}',""]),e.locals={single:"ZKHB3b7wcSwR8Wl6fTxfr",collect:"_2p3_lfNbTv7jvNTjDcwiNG",collectMobile:"_3PLz2jKWg5aqWZ0L2XSk1A",codes:"_2Aqnhl0UilhQmcJ__tvzcs",codesTab:"_3PcgzXzpkVz38FWGWVlBgF",otherTab:"_1J5n2jI7d_iyhVCFsz6kGo",activeTab:"lG27D-ztuflQnRQrYzrEk",codesSection:"_1Uc2dRqvsUOU-zqNfc0zoP",otherSection:"uhY8gttG11j6aitIqgmsp",activeSection:"_1tG49ZjfMiBGC9SRfhiVb",result:"_11qLAYl8YioCWH0Wa6nugG",mobileResult:"_3ddyhRKJ33suqfgO4btVi_",loading:"_3I7L3oK-Gj0uKsP2dcD9jc",spin:"_2UXogTuqtyG9ZgCq7AZ_5F",mobile:"y1HRpH4VDRhNdBAt12eEI",loaded:"_1gBDP-PRzphfndCrFoPJoO",error:"NMrsesPPXb57BISDZo4Q5",errorTitle:"_3925vOYf0GdFYymPirm6yB",errorTip:"_1PFQRcWzh5gn96QgIv6w9-"}},"8xBV":function(t,e,i){"use strict";var a=i("J66h"),s=i("ysz4"),n=i("kZAv"),r=i("ai4s");var o=class{constructor(t){this.moduleName=t,this.sourcePath=`example/${t}/canvas`,this.requestPath="https://api.github.com/repos/snayan/canvas-demo/contents"}fetch(t){return fetch(`${this.requestPath}/${t}`,{credentials:"omit",method:"get",mode:"cors"})}async getCanvasFiles(){let t,e=[],i=r.a.get(this.moduleName);if(i&&i.length)return i;let a=await this.fetch(this.sourcePath);if(!a.ok)throw new Error(JSON.stringify({status:a.status,statusText:a.statusText,body:await a.text(),url:a.url}));t=await a.json();for(let i of t)"file"===i.type&&(a=await this.fetch(i.path)).ok&&e.push(await a.json());return r.a.set(this.moduleName,e),e}},l=i("0Pcb"),h=i("wZee"),d=i.n(h),c=i("14PU"),u=i.n(c);e.a=class{constructor(t){this.canvasInstances=[],this.moduleName=t,this.el=document.createElement("div"),this.isSingleModule=Object(s.c)(t),this.github=new o(t),this.link=`${n.c}?module=${t}`,l.a.mobile&&this.el.classList.add(u.a.mobile)}loading(){let t=document.createElement("i");return t.classList.add(u.a.loading),document.body.appendChild(t),()=>{document.body.removeChild(t)}}renderCanvas(){let t=this.canvasInstances.length,e=document.createElement("div");e.classList.add(u.a.result),l.a.mobile&&e.classList.add(u.a.mobileResult),this.el.appendChild(e),t>0&&setTimeout(()=>{let{width:i,height:a}=e.getBoundingClientRect(),s=i>2*a,n=document.createElement("div");n.style.display="inline-block",s?(n.style.width=`${100/t}%`,n.style.height="100%"):(n.style.width="100%",n.style.height=`${100/t}%`);for(let t of this.canvasInstances){let i=n.cloneNode();e.appendChild(i),t.render(i)}},0)}async renderCode(){let t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("nav"),s=[],n=[],r="0";try{let t=await this.github.getCanvasFiles();for(let[e,{name:i,content:r}]of t.entries())s.push(`<span class='${0===e?u.a.activeTab:u.a.otherTab}' data-index='${e}'>${i}</span>`),n.push(`<div class='${0===e?u.a.activeSection:u.a.otherSection}' data-index='${e}' ><pre class="language-typescript">${d.a.highlight(a.Base64.decode(r),d.a.languages.javascript,"typescript")}</pre></div>`)}catch(t){let e=JSON.parse(t.message);n.push(`<div class='${u.a.error}'><h4 class='${u.a.errorTitle}'>[${e.status}]${e.statusText}</h4><p class='${u.a.errorTip}'>${e.url}</p></div>`)}i.addEventListener("click",t=>{let a=t.target.dataset.index;if(a===r)return!1;let s=i.querySelectorAll("span"),n=e.querySelector(`div[data-index='${r}']`),o=e.querySelector(`div[data-index='${a}']`);for(let t of s)t.className=t.dataset.index===a?u.a.activeTab:u.a.otherTab;return n.className=u.a.otherSection,o.className=u.a.activeSection,r=a,!1}),i.className=u.a.codesTab,i.innerHTML=s.join(""),t.appendChild(i),e.className=u.a.codesSection,e.innerHTML=n.join(""),t.appendChild(e),t.className=u.a.codes,this.el.appendChild(t)}async render(){let t=this.loading();if(this.el.innerHTML="",document.body.appendChild(this.el),this.isSingleModule)this.el.classList.add(u.a.single),l.a.pc&&await this.renderCode();else{this.el.classList.add(u.a.collect);let t=document.createElement("a");t.innerText=this.moduleName,t.href=this.link,t.style.marginTop="10px",this.el.appendChild(t)}return l.a.mobile&&!this.isSingleModule&&this.el.classList.add(u.a.collectMobile),this.renderCanvas(),t(),setTimeout(()=>{this.el.classList.add(u.a.loaded)},0),this}}},Qb4n:function(t,e,i){"use strict";var a=i("kZAv");e.a=class{constructor(){this.el=document.createElement("canvas")}initCanvasSize(t,e){this.el.width=t,this.el.height=e,this.width=t,this.height=e}getContext(t,e){return this.el.getContext(t,e)}render(t){this.container=t;let{width:e,height:i}=t.getBoundingClientRect();this.initCanvasSize(e||a.d,i||a.b),this.container.innerHTML="",this.container.appendChild(this.el)}}},"bxh+":function(t,e,i){"use strict";i.r(e);var a=i("Qb4n"),s=i("kZAv"),n=i("0Pcb");e.default=class extends a.a{constructor(){super(),this.ctx=this.getContext("2d"),this.fps=0,this.lastFrameTime=0,this.lastDrawFps=0,this.lastDrawFpsTime=0,this.animateOutAngle=0,this.animateInnerAngle=0,this.arrowCount=6,this.arrowLength=10,this.canShowOutArrow=!1,this.canShowInnerArrow=!1,this.canShowLineArrow=!1,this.animateEnd=!0,this.animateStart=!1}drawText(){let{ctx:t,width:e,height:i}=this;t.save(),t.font=s.a,t.textBaseline="middle",t.fillStyle="rgba(100,140,230,1)";let a=t.measureText("非零环绕法则").width;t.translate(e/2,i/2),t.fillText("非零环绕法则",-a/2,0),t.restore()}drawRule(){let{canShowOutArrow:t,canShowInnerArrow:e,canShowLineArrow:i,fps:a,width:s}=this;t&&(a&&this.animateOutAngle<2*Math.PI&&(this.animateOutAngle+=2*Math.PI/a),this.animateOutAngle=Math.min(2*Math.PI,this.animateOutAngle),this.animateOutAngle===2*Math.PI&&(this.canShowInnerArrow=!0),this.drawOutArrow()),e&&(a&&this.animateInnerAngle<2*Math.PI&&(this.animateInnerAngle+=2*Math.PI/a),this.animateInnerAngle=Math.min(2*Math.PI,this.animateInnerAngle),this.animateInnerAngle===2*Math.PI&&(this.canShowLineArrow=!0),this.drawInnerArrow()),i&&(this.drawLineArrow(),this.animateEnd=!0)}drawOutArrow(){let t=Math.PI/4,{ctx:e,width:i,height:a,outRadius:s,arrowLength:n,arrowCount:r,animateOutAngle:o}=this;e.save(),e.translate(i/2,a/2),e.strokeStyle="red",e.beginPath(),e.arc(0,0,s,0,o,!1);for(let i=1;i<=r;i++)e.rotate(2*Math.PI/r),e.moveTo(s,0),e.lineTo(s-n*Math.cos(t),-n*Math.sin(t)),e.moveTo(s,0),e.lineTo(s+n*Math.cos(t),-n*Math.sin(t));e.stroke(),e.restore()}drawInnerArrow(){let t=Math.PI/4,{ctx:e,width:i,height:a,innerRadius:s,arrowLength:n,arrowCount:r,animateInnerAngle:o}=this;e.save(),e.translate(i/2,a/2),e.rotate(Math.PI/2),e.strokeStyle="#CD00CD",e.beginPath(),e.arc(0,0,s,0,-o,!0);for(let i=1;i<=r;i++)e.rotate(2*Math.PI/r),e.moveTo(s,0),e.lineTo(s-n*Math.cos(t),n*Math.sin(t)),e.moveTo(s,0),e.lineTo(s+n*Math.cos(t),n*Math.sin(t));e.stroke(),e.restore()}drawLineArrow(){let t=Math.PI/4,{ctx:e,width:i,height:a,outRadius:s,arrowLength:r}=this,o=s+(n.a.pc?60:30);e.save(),e.translate(i/2,a/2),e.strokeStyle="green",e.rotate(-Math.PI/4),e.beginPath(),e.moveTo(0,0),e.lineTo(o,0),e.lineTo(o-r*Math.cos(t),-r*Math.sin(t)),e.moveTo(o,0),e.lineTo(o-r*Math.cos(t),r*Math.sin(t)),e.stroke(),e.restore()}drawCircle(){let{ctx:t,width:e,height:i,outRadius:a,innerRadius:s}=this;t.save(),t.fillStyle="rgba(100,140,230,0.5)",t.strokeStyle="rgba(100,140,230,1)",t.translate(e/2,i/2),t.beginPath(),t.arc(0,0,a,0,2*Math.PI,!1),t.moveTo(s,0),t.arc(0,0,s,0,2*Math.PI,!0),t.shadowColor="rgba(0,0,0,0.8)",t.shadowOffsetX=.2*(a-s),t.shadowOffsetY=t.shadowOffsetX,t.shadowBlur=.3*(a-s),t.fill(),t.shadowColor=void 0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.stroke(),t.restore()}drawFps(){let{ctx:t,width:e,height:i,fps:a,lastDrawFps:n,lastDrawFpsTime:r}=this,o=Date.now();o-r>=100&&(this.lastDrawFps=a,this.lastDrawFpsTime=o),t.save(),t.font=s.a;let l=t.measureText("M").width;t.fillText("FPS："+n,10,l+10),t.restore()}drawAnimateRule(){this.animateStart=!0,this.animateEnd=!1,window.requestAnimationFrame(this.draw.bind(this))}draw(t){let{ctx:e,width:i,height:a}=this;e.clearRect(0,0,i,a),this.drawCircle(),this.drawText(),this.drawFps(),this.animateStart&&(this.computeFps(t),this.canShowOutArrow=!0,this.drawRule(),this.animateEnd||window.requestAnimationFrame(this.draw.bind(this)))}computeFps(t){let{lastFrameTime:e}=this;e&&t&&(this.fps=Math.floor(1e3/(t-e))),this.lastFrameTime=t}render(t){super.render(t);let{ctx:e,width:i,height:a}=this,s=Math.min(i,a);this.outRadius=.8*s/2,this.innerRadius=.6*this.outRadius,this.draw(performance.now()),setTimeout(this.drawAnimateRule.bind(this),300)}}},kZAv:function(t,e,i){"use strict";i.d(e,"d",function(){return a}),i.d(e,"b",function(){return s}),i.d(e,"a",function(){return n}),i.d(e,"c",function(){return r});const a=500,s=500,n=`${i("0Pcb").a.pc?24:16}px sans-serif`,r="https://snayan.github.io/canvas-demo/"}}]);